!function(){function t(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(s){o=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"06u4":function(e,o,i){"use strict";i.r(o),i.d(o,"AddOrderModule",function(){return $t});var u,b=i("PCNd"),l=i("tyNb"),m=i("Kj3r"),f=i("hgo/"),d=i("ufcJ"),p=i("z6cu"),h=i("eIep"),g=i("vkgz"),v=i("JIr8"),S=i("Wcn/"),y=i("groK"),O=i("fXoL"),R=i("SuJO"),C=i("dNgK"),F=((u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,t);var e=s(r);function r(t,o){var i;return a(this,r),(i=e.call(this,y.a)).addOrderService=t,i.snack=o,i.saveForm=i.effect(function(t){return t.pipe(Object(h.a)(function(t){return i.reqFormPending(),i.addOrderService.updateFormData(t).pipe(Object(g.a)(function(t){i.reqFormSuccess(t)}),Object(v.a)(function(t){return i.reqFormError(),Object(p.a)(t)}))}))}),i.setFormData=i.effect(function(t){return t.pipe(Object(h.a)(function(){return i.reqFormPending(),i.addOrderService.getFormData().pipe(Object(g.a)(function(t){i.reqFormSuccess(t)}),Object(v.a)(function(t){return i.reqFormError(),Object(p.a)(t)}))}))}),i.registerNewOrder=i.effect(function(t){return t.pipe(Object(h.a)(function(t){var e;return i.reqFormPending(),console.log("\u043d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c"),t.orderType===S.b.subscription?e=t.subscriptionsOrders:t.orderType===S.b.check&&(e=[t.onceOrder]),i.addOrderService.getPersonsByName(t.customer.name).pipe(Object(h.a)(function(r){return r.length?(e.forEach(function(t){t.personId=r[0].id}),i.addOrderService.postOrders(e).pipe(Object(g.a)(function(){i.resetState(),i.addOrderService.resetFormData(),i.snack.open("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0437\u0430\u043a\u0430\u0437",void 0,{duration:3e3})}))):i.addOrderService.postCustomer(t.customer).pipe(Object(h.a)(function(t){var r=n(t,1)[0];return e.forEach(function(t){t.personId=r.id}),i.addOrderService.postOrders(e).pipe(Object(g.a)(function(){i.resetState(),i.addOrderService.resetFormData(),i.snack.open("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0437\u0430\u043a\u0430\u0437 \u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",void 0,{duration:3e3})}))}))}),Object(v.a)(function(t){return i.reqFormError(),Object(p.a)(t)}))}))}),i.resetState=i.updater(function(t){return Object.assign(Object.assign({},y.a),{resetForm:!0})}),i.reqFormPending=i.updater(function(t){return Object.assign(Object.assign({},t),{loadingState:f.a.loading})}),i.reqFormSuccess=i.updater(function(t,e){return Object.assign(Object.assign(Object.assign({},t),e),{loadingState:null})}),i.reqFormError=i.updater(function(t){return Object.assign(Object.assign({},t),{loadingState:f.a.err})}),i}return r}(d.a)).\u0275fac=function(t){return new(t||u)(O.Wb(R.a),O.Wb(C.a))},u.\u0275prov=O.Ib({token:u,factory:u.\u0275fac}),u),k=i("G1Gu"),_=i("wZkO"),x=i("XNiG"),j=i("IzEk"),$=i("1G5W"),z=i("0IaG"),B=i("3Pt+"),w=i("bTqV"),N=i("NFeN"),T=i("ofXK"),M=i("f0Cb"),P=i("Wp6s"),I=i("kmnG"),A=i("qFsG"),G=i("d3UM"),D=i("FKr1");function K(t,e){if(1&t&&(O.Sb(0,"mat-option",15),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r),O.Bb(1),O.Bc(" ",r," ")}}function E(t,e){if(1&t){var r=O.Tb();O.Sb(0,"mat-card",10),O.Sb(1,"mat-form-field",11),O.Sb(2,"mat-label"),O.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),O.Rb(),O.Nb(4,"input",12),O.Rb(),O.Sb(5,"button",5),O.Zb("click",function(){O.pc(r);var t=e.index;return O.dc().removeKit(t)}),O.Sb(6,"mat-icon"),O.zc(7,"delete"),O.Rb(),O.Rb(),O.Sb(8,"mat-form-field",11),O.Sb(9,"mat-label"),O.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),O.Rb(),O.Sb(11,"mat-select",13),O.xc(12,K,2,2,"mat-option",14),O.Rb(),O.Rb(),O.Rb()}if(2&t){var n=e.$implicit,o=O.dc();O.Bb(4),O.ic("formControl",o.getControl(n.get("count"))),O.Bb(7),O.ic("formControl",o.getControl(n.get("age"))),O.Bb(1),O.ic("ngForOf",o.ages)}}function Z(t,e){if(1&t&&(O.Sb(0,"mat-option",17),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r),O.Bb(1),O.Bc(" ",r," ")}}function q(t,e){if(1&t){var r=O.Tb();O.Sb(0,"mat-card",10),O.Sb(1,"mat-form-field",11),O.Sb(2,"mat-label"),O.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),O.Rb(),O.Nb(4,"input",12),O.Rb(),O.Sb(5,"button",5),O.Zb("click",function(){O.pc(r);var t=e.index;return O.dc().removeTheatre(t)}),O.Sb(6,"mat-icon"),O.zc(7,"delete"),O.Rb(),O.Rb(),O.Sb(8,"mat-form-field",11),O.Sb(9,"mat-label"),O.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),O.Rb(),O.Sb(11,"mat-select",13),O.xc(12,Z,2,2,"mat-option",16),O.Rb(),O.Rb(),O.Rb()}if(2&t){var n=e.$implicit,o=O.dc();O.Bb(4),O.ic("formControl",o.getControl(n.get("count"))),O.Bb(7),O.ic("formControl",o.getControl(n.get("age"))),O.Bb(1),O.ic("ngForOf",o.ages)}}var L,V=((L=function(){function t(e,r,n){a(this,t),this.dialogRef=e,this.order=r,this.fb=n,this.ages=Object.values(S.a),this.initialKitGroupState={age:S.a.twoThree,count:1}}return r(t,[{key:"ngOnInit",value:function(){this.orderStructureForm=this.fb.group({orderStructure:this.fb.group({kits:this.fb.array([]),theatres:this.fb.array([])})}),this.setKitsAndTheatresControls(this.order)}},{key:"setStructure",value:function(){this.dialogRef.close(this.orderStructureForm.value.orderStructure)}},{key:"addKit",value:function(t){this.kits.push(this.fb.group(t))}},{key:"addTheatre",value:function(t){this.theatres.push(this.fb.group(t))}},{key:"removeKit",value:function(t){this.kits.removeAt(t)}},{key:"removeTheatre",value:function(t){this.theatres.removeAt(t)}},{key:"getControl",value:function(t){return t}},{key:"setKitsAndTheatresControls",value:function(t){var e,r,n,o,i=this;null===(r=null===(e=t.orderStructure)||void 0===e?void 0:e.kits)||void 0===r||r.forEach(function(t){i.addKit(t)}),null===(o=null===(n=t.orderStructure)||void 0===n?void 0:n.theatres)||void 0===o||o.forEach(function(t){i.addTheatre(t)})}},{key:"kits",get:function(){return this.orderStructureForm.get("orderStructure").get("kits")}},{key:"theatres",get:function(){return this.orderStructureForm.get("orderStructure").get("theatres")}}]),t}()).\u0275fac=function(t){return new(t||L)(O.Mb(z.d),O.Mb(z.a),O.Mb(B.e))},L.\u0275cmp=O.Gb({type:L,selectors:[["ntv-add-order-structure-dialog"]],decls:24,vars:4,consts:[[1,"scrollbar"],[1,"form",3,"formGroup","ngSubmit"],["formGroupName","orderStructure",1,"form__block"],["formArrayName","kits",1,"form__array"],[1,"form__array-title"],["mat-icon-button","","type","button",3,"click"],["class","form__array-item",4,"ngFor","ngForOf"],[3,"vertical"],["formArrayName","theatres",1,"form__array"],["mat-raised-button",""],[1,"form__array-item"],["appearance","standard"],["type","number","matInput","",3,"formControl"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","dsfsd",3,"value",4,"ngFor","ngForOf"],["name","dsfsd",3,"value"]],template:function(t,e){1&t&&(O.Sb(0,"ng-scrollbar",0),O.Sb(1,"form",1),O.Zb("ngSubmit",function(){return e.setStructure()}),O.Sb(2,"h4"),O.zc(3,"\u0427\u0442\u043e \u0432\u0435\u0437\u0435\u043c"),O.Rb(),O.Sb(4,"div",2),O.Sb(5,"div",3),O.Sb(6,"div",4),O.Sb(7,"h6"),O.zc(8,"\u041d\u0430\u0431\u043e\u0440\u044b"),O.Rb(),O.Sb(9,"button",5),O.Zb("click",function(){return e.addKit(e.initialKitGroupState)}),O.Sb(10,"mat-icon"),O.zc(11,"add"),O.Rb(),O.Rb(),O.Rb(),O.xc(12,E,13,3,"mat-card",6),O.Rb(),O.Nb(13,"mat-divider",7),O.Sb(14,"div",8),O.Sb(15,"div",4),O.Sb(16,"h6"),O.zc(17,"\u0422\u0435\u0430\u0442\u0440\u044b"),O.Rb(),O.Sb(18,"button",5),O.Zb("click",function(){return e.addTheatre(e.initialKitGroupState)}),O.Sb(19,"mat-icon"),O.zc(20,"add"),O.Rb(),O.Rb(),O.Rb(),O.xc(21,q,13,3,"mat-card",6),O.Rb(),O.Rb(),O.Sb(22,"button",9),O.zc(23,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),O.Rb(),O.Rb(),O.Rb()),2&t&&(O.Bb(1),O.ic("formGroup",e.orderStructureForm),O.Bb(11),O.ic("ngForOf",e.kits.controls),O.Bb(1),O.ic("vertical",!0),O.Bb(8),O.ic("ngForOf",e.theatres.controls))},directives:[k.a,B.v,B.o,B.h,B.i,B.d,w.a,N.a,T.j,M.a,P.a,I.c,I.f,B.r,A.b,B.c,B.n,B.f,G.a,D.n],styles:["[_nghost-%COMP%]{display:block;min-width:500px;margin:-24px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;height:100%;padding:16px;box-sizing:border-box}.form__block[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1px 1fr;grid-gap:16px;width:100%}.form__array[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form__array-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 40px;grid-template-rows:repeat(auto-fill,41px);grid-gap:16px}.form__array-title[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.scrollbar[_ngcontent-%COMP%]{max-height:70vh}"]}),L),J=i("Qw0g"),W=i("e1Hi");function H(t,e){1&t&&(O.Sb(0,"h4"),O.zc(1,"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0437\u0430\u043a\u0430\u0437\u044b"),O.Rb())}function Q(t,e){if(1&t&&(O.Sb(0,"mat-option",8),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r.date),O.Bb(1),O.Bc(" ",r.name," ")}}function X(t,e){if(1&t&&(O.Sb(0,"mat-option",8),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r),O.Bb(1),O.Bc(" ",r," ")}}function U(t,e){if(1&t){var r=O.Tb();O.Sb(0,"mat-card",2),O.Sb(1,"mat-form-field",3),O.Sb(2,"mat-label"),O.zc(3,"\u041c\u0435\u0441\u044f\u0446"),O.Rb(),O.Sb(4,"mat-select",4),O.xc(5,Q,2,2,"mat-option",5),O.Rb(),O.Rb(),O.Sb(6,"mat-form-field",3),O.Sb(7,"mat-label"),O.zc(8,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),O.Rb(),O.Sb(9,"mat-select",4),O.xc(10,X,2,2,"mat-option",5),O.Rb(),O.Rb(),O.Sb(11,"ntv-overlined",6),O.Zb("click",function(){O.pc(r);var t=e.$implicit,n=e.index;return O.dc().showOrderStructureDialog(t.value,n)}),O.Rb(),O.Sb(12,"mat-form-field",3),O.Sb(13,"mat-label"),O.zc(14,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),O.Rb(),O.Nb(15,"input",7),O.Rb(),O.Rb()}if(2&t){var n=e.$implicit,o=O.dc();O.Bb(4),O.ic("formControl",o.getControl(n.get("shipmentDate"))),O.Bb(1),O.ic("ngForOf",o.months),O.Bb(4),O.ic("formControl",o.getControl(n.get("shipmentType"))),O.Bb(1),O.ic("ngForOf",o.shipmentTypes),O.Bb(5),O.ic("formControl",o.getControl(n.get("comment")))}}var Y,tt=((Y=function(){function e(t,r,n){a(this,e),this.fb=t,this.store=r,this.dialog=n,this.orders=[],this.months=J.a,this.shipmentTypes=Object.values(S.c),this.destroyer$$=new x.a}return r(e,[{key:"ngOnInit",value:function(){this.ordersControls=this.fb.array([]),this.initFormSetter(),this.initFormSaver(),this.initResetListener()}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"showOrderStructureDialog",value:function(t,e){var r=this;this.dialog.open(V,{data:t}).afterClosed().subscribe(function(n){if(n){var o=r.fb.group(Object.assign(Object.assign({},t),{orderStructure:n}));r.ordersControls.setControl(e,o)}})}},{key:"initFormSaver",value:function(){var t=this;this.ordersControls.valueChanges.pipe(Object($.a)(this.destroyer$$),Object(m.a)(500)).subscribe(function(e){t.store.saveForm({subscriptionsOrders:e})})}},{key:"initFormSetter",value:function(){var t=this;this.store.select(function(t){return t.subscriptionsOrders}).pipe(Object($.a)(this.destroyer$$),Object(g.a)(function(e){e.length&&!t.isOrdersEqual(e,t.ordersControls.value)&&(t.ordersControls.clear(),e.forEach(function(e){t.addOrder(e)}))})).subscribe()}},{key:"initResetListener",value:function(){var t=this;this.store.select(function(t){return t.resetForm}).pipe(Object($.a)(this.destroyer$$),Object(g.a)(function(e){e&&t.ordersControls.clear()})).subscribe()}},{key:"isOrdersEqual",value:function(t,e){if(t.length!==e.length)return!1;var r=this.getDeepValues(t),n=this.getDeepValues(e);return r.length===n.length&&r.every(function(t){return n.includes(t)})}},{key:"getDeepValues",value:function(e){var r=this;return e.reduce(function(e,n){return"object"!=typeof n||null===n?e.push(n):Array.isArray(n)?e.push.apply(e,t(r.getDeepValues(n))):e.push.apply(e,t(r.getDeepValues(Object.values(n)))),e},[])}},{key:"addOrder",value:function(t){this.ordersControls.push(this.fb.group(t))}},{key:"getControl",value:function(t){return t}}]),e}()).\u0275fac=function(t){return new(t||Y)(O.Mb(B.e),O.Mb(F),O.Mb(z.b))},Y.\u0275cmp=O.Gb({type:Y,selectors:[["ntv-subscription-orders-form"]],inputs:{orders:"orders"},decls:2,vars:2,consts:[[4,"ngIf"],["class","array-item",4,"ngFor","ngForOf"],[1,"array-item"],["appearance","standard"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["overline","\u043d\u0430\u0431\u043e\u0440\u044b","value","\u041d\u0430\u0436\u043c\u0438",3,"click"],["matInput","",3,"formControl"],[3,"value"]],template:function(t,e){1&t&&(O.xc(0,H,2,0,"h4",0),O.xc(1,U,16,5,"mat-card",1)),2&t&&(O.ic("ngIf",e.ordersControls.length),O.Bb(1),O.ic("ngForOf",e.ordersControls.controls))},directives:[T.k,T.j,P.a,I.c,I.f,G.a,B.n,B.f,W.a,A.b,B.c,D.n],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:16px}.array-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:16px}"]}),Y);function et(t,e){if(1&t&&(O.Sb(0,"mat-option",6),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r.date),O.Bb(1),O.Bc(" ",r.name," ")}}function rt(t,e){if(1&t&&(O.Sb(0,"mat-option",6),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r),O.Bb(1),O.Bc(" ",r," ")}}var nt,ot=((nt=function(){function t(e,r,n){a(this,t),this.fb=e,this.store=r,this.dialog=n,this.shipmentTypes=Object.values(S.c),this.months=J.a,this.destroyer$$=new x.a}return r(t,[{key:"ngOnInit",value:function(){this.addSubscriptionForm=this.fb.group({months:"",shipmentType:"",orderStructure:""}),this.initFormSetter(),this.initFormSaver(),this.initResetListener()}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"initFormSetter",value:function(){var t=this;this.store.select(function(t){return t.subscriptionsOrders}).pipe(Object(j.a)(1),Object(g.a)(function(e){if(e.length){var r={months:e.map(function(t){return t.shipmentDate}),shipmentType:e[0].shipmentType,orderStructure:e[0].orderStructure||y.a.onceOrder.orderStructure};t.addSubscriptionForm.setValue(r)}})).subscribe()}},{key:"initFormSaver",value:function(){var t=this;this.addSubscriptionForm.valueChanges.pipe(Object($.a)(this.destroyer$$),Object(m.a)(500)).subscribe(function(e){if(Array.isArray(e.months)){var r=e.months.map(function(t){return{id:y.a.onceOrder.id,personId:y.a.onceOrder.personId,comment:y.a.onceOrder.comment,sended:y.a.onceOrder.sended,shipmentDate:t,shipmentType:e.shipmentType,trackNumber:y.a.onceOrder.trackNumber,type:S.b.subscription,orderStructure:e.orderStructure,orderDate:(new Date).toISOString()}});t.store.saveForm({subscriptionsOrders:r})}})}},{key:"initResetListener",value:function(){var t=this;this.store.select(function(t){return t.resetForm}).pipe(Object($.a)(this.destroyer$$),Object(g.a)(function(e){e&&t.addSubscriptionForm.reset()})).subscribe()}},{key:"showOrderStructureSelectionDialog",value:function(){var t=this;this.store.select(function(t){return t.subscriptionsOrders}).pipe(Object(j.a)(1)).subscribe(function(e){var r;r=e.length?e[0]:y.a.onceOrder,t.dialog.open(V,{data:r}).afterClosed().subscribe(function(e){e&&t.addSubscriptionForm.patchValue({orderStructure:e})})})}}]),t}()).\u0275fac=function(t){return new(t||nt)(O.Mb(B.e),O.Mb(F),O.Mb(z.b))},nt.\u0275cmp=O.Gb({type:nt,selectors:[["ntv-subscription-form"]],decls:16,vars:3,consts:[[1,"form",3,"formGroup"],["appearance","standard"],["formControlName","months","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","shipmentType"],["mat-flat-button","",1,"form__submit",3,"click"],[3,"value"]],template:function(t,e){1&t&&(O.Sb(0,"h4"),O.zc(1,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u043c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"),O.Rb(),O.Sb(2,"form",0),O.Sb(3,"mat-form-field",1),O.Sb(4,"mat-label"),O.zc(5,"\u041c\u0435\u0441\u044f\u0446\u044b"),O.Rb(),O.Sb(6,"mat-select",2),O.xc(7,et,2,2,"mat-option",3),O.Rb(),O.Rb(),O.Sb(8,"mat-form-field",1),O.Sb(9,"mat-label"),O.zc(10,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),O.Rb(),O.Sb(11,"mat-select",4),O.xc(12,rt,2,2,"mat-option",3),O.Rb(),O.Rb(),O.Sb(13,"button",5),O.Zb("click",function(){return e.showOrderStructureSelectionDialog()}),O.zc(14,"\u0421\u043e\u0441\u0442\u0430\u0432 \u0437\u0430\u043a\u0430\u0437\u0430"),O.Rb(),O.Rb(),O.Nb(15,"ntv-subscription-orders-form")),2&t&&(O.Bb(2),O.ic("formGroup",e.addSubscriptionForm),O.Bb(5),O.ic("ngForOf",e.months),O.Bb(5),O.ic("ngForOf",e.shipmentTypes))},directives:[B.v,B.o,B.h,I.c,I.f,G.a,B.n,B.g,T.j,w.a,tt,D.n],styles:[".form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:16px;box-sizing:border-box;margin:8px 0}"]}),nt);function it(t,e){if(1&t&&(O.Sb(0,"mat-option",16),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r.date),O.Bb(1),O.Bc(" ",r.name," ")}}function at(t,e){if(1&t&&(O.Sb(0,"mat-option",16),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r),O.Bb(1),O.Bc(" ",r," ")}}function ct(t,e){if(1&t&&(O.Sb(0,"mat-option",16),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r),O.Bb(1),O.Bc(" ",r," ")}}function st(t,e){if(1&t){var r=O.Tb();O.Sb(0,"mat-card",17),O.Sb(1,"mat-form-field",2),O.Sb(2,"mat-label"),O.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),O.Rb(),O.Nb(4,"input",18),O.Rb(),O.Sb(5,"button",13),O.Zb("click",function(){O.pc(r);var t=e.index;return O.dc().removeKit(t)}),O.Sb(6,"mat-icon"),O.zc(7,"delete"),O.Rb(),O.Rb(),O.Sb(8,"mat-form-field",2),O.Sb(9,"mat-label"),O.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),O.Rb(),O.Sb(11,"mat-select",19),O.xc(12,ct,2,2,"mat-option",7),O.Rb(),O.Rb(),O.Rb()}if(2&t){var n=e.$implicit,o=O.dc();O.Bb(4),O.ic("formControl",o.getControl(n.get("count"))),O.Bb(7),O.ic("formControl",o.getControl(n.get("age"))),O.Bb(1),O.ic("ngForOf",o.ages)}}function ut(t,e){if(1&t&&(O.Sb(0,"mat-option",21),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r),O.Bb(1),O.Bc(" ",r," ")}}function bt(t,e){if(1&t){var r=O.Tb();O.Sb(0,"mat-card",17),O.Sb(1,"mat-form-field",2),O.Sb(2,"mat-label"),O.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),O.Rb(),O.Nb(4,"input",18),O.Rb(),O.Sb(5,"button",13),O.Zb("click",function(){O.pc(r);var t=e.index;return O.dc().removeTheatre(t)}),O.Sb(6,"mat-icon"),O.zc(7,"delete"),O.Rb(),O.Rb(),O.Sb(8,"mat-form-field",2),O.Sb(9,"mat-label"),O.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),O.Rb(),O.Sb(11,"mat-select",19),O.xc(12,ut,2,2,"mat-option",20),O.Rb(),O.Rb(),O.Rb()}if(2&t){var n=e.$implicit,o=O.dc();O.Bb(4),O.ic("formControl",o.getControl(n.get("count"))),O.Bb(7),O.ic("formControl",o.getControl(n.get("age"))),O.Bb(1),O.ic("ngForOf",o.ages)}}var lt,mt,ft=((mt=function(){function t(e,r){a(this,t),this.fb=e,this.store=r,this.months=J.a,this.ages=Object.values(S.a),this.shipmentTypes=Object.values(S.c),this.initialKitGroupState={age:S.a.twoThree,count:1},this.destroyer$$=new x.a}return r(t,[{key:"ngOnInit",value:function(){this.addOrderForm=this.fb.group({id:y.a.onceOrder.id,personId:y.a.onceOrder.personId,comment:y.a.onceOrder.comment,sended:y.a.onceOrder.sended,shipmentDate:y.a.onceOrder.shipmentDate,shipmentType:y.a.onceOrder.shipmentType,trackNumber:y.a.onceOrder.trackNumber,type:y.a.onceOrder.type,orderStructure:this.fb.group({kits:this.fb.array([]),theatres:this.fb.array([])})}),this.initFormSetter(),this.initFormSaver(),this.initResetListener()}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"initFormSaver",value:function(){var t=this;this.addOrderForm.valueChanges.pipe(Object($.a)(this.destroyer$$),Object(m.a)(500)).subscribe(function(e){t.store.saveForm({onceOrder:e})})}},{key:"initFormSetter",value:function(){var t=this;this.store.select(function(t){return t.onceOrder}).pipe(Object(j.a)(1),Object(g.a)(function(e){t.setKitsAndTheatresControls(e);var r=Object.assign({},e);delete r.orderStructure,r.type=S.b.check,t.addOrderForm.patchValue(r)})).subscribe()}},{key:"initResetListener",value:function(){var t=this;this.store.select(function(t){return t.resetForm}).pipe(Object($.a)(this.destroyer$$),Object(g.a)(function(e){e&&t.addOrderForm.reset()})).subscribe()}},{key:"addKit",value:function(t){this.kits.push(this.fb.group(t))}},{key:"addTheatre",value:function(t){this.theatres.push(this.fb.group(t))}},{key:"removeKit",value:function(t){this.kits.removeAt(t)}},{key:"removeTheatre",value:function(t){this.theatres.removeAt(t)}},{key:"getControl",value:function(t){return t}},{key:"setKitsAndTheatresControls",value:function(t){var e,r,n=this;null===(e=t.orderStructure)||void 0===e||e.kits.forEach(function(t){n.addKit(t)}),null===(r=t.orderStructure)||void 0===r||r.theatres.forEach(function(t){n.addTheatre(t)})}},{key:"kits",get:function(){return this.addOrderForm.get("orderStructure").get("kits")}},{key:"theatres",get:function(){return this.addOrderForm.get("orderStructure").get("theatres")}}]),t}()).\u0275fac=function(t){return new(t||mt)(O.Mb(B.e),O.Mb(F))},mt.\u0275cmp=O.Gb({type:mt,selectors:[["ntv-once-form"]],decls:44,vars:7,consts:[[1,"form",3,"formGroup"],[1,"form__comment"],["appearance","standard"],["matInput","","formControlName","comment"],[1,"form__block"],[1,"select-card"],["formControlName","shipmentDate"],[3,"value",4,"ngFor","ngForOf"],[3,"vertical"],["formControlName","shipmentType"],["formGroupName","orderStructure",1,"form__block"],["formArrayName","kits",1,"form__array"],[1,"form__array-title"],["mat-icon-button","","type","button",3,"click"],["class","form__array-item",4,"ngFor","ngForOf"],["formArrayName","theatres",1,"form__array"],[3,"value"],[1,"form__array-item"],["type","number","matInput","",3,"formControl"],[3,"formControl"],["name","dsfsd",3,"value",4,"ngFor","ngForOf"],["name","dsfsd",3,"value"]],template:function(t,e){1&t&&(O.Sb(0,"form",0),O.Sb(1,"h4"),O.zc(2,"\u041e \u0437\u0430\u043a\u0430\u0437\u0435"),O.Rb(),O.Sb(3,"mat-card",1),O.Sb(4,"mat-form-field",2),O.Sb(5,"mat-label"),O.zc(6,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),O.Rb(),O.Nb(7,"textarea",3),O.Rb(),O.Rb(),O.Sb(8,"h4"),O.zc(9,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),O.Rb(),O.Sb(10,"div",4),O.Sb(11,"mat-card",5),O.Sb(12,"mat-form-field",2),O.Sb(13,"mat-label"),O.zc(14,"\u0414\u0430\u0442\u0430"),O.Rb(),O.Sb(15,"mat-select",6),O.xc(16,it,2,2,"mat-option",7),O.Rb(),O.Rb(),O.Rb(),O.Nb(17,"mat-divider",8),O.Sb(18,"mat-card",5),O.Sb(19,"mat-form-field",2),O.Sb(20,"mat-label"),O.zc(21,"\u0422\u0438\u043f"),O.Rb(),O.Sb(22,"mat-select",9),O.xc(23,at,2,2,"mat-option",7),O.Rb(),O.Rb(),O.Rb(),O.Rb(),O.Sb(24,"h4"),O.zc(25,"\u0427\u0442\u043e \u0432\u0435\u0437\u0435\u043c"),O.Rb(),O.Sb(26,"div",10),O.Sb(27,"div",11),O.Sb(28,"div",12),O.Sb(29,"h6"),O.zc(30,"\u041d\u0430\u0431\u043e\u0440\u044b"),O.Rb(),O.Sb(31,"button",13),O.Zb("click",function(){return e.addKit(e.initialKitGroupState)}),O.Sb(32,"mat-icon"),O.zc(33,"add"),O.Rb(),O.Rb(),O.Rb(),O.xc(34,st,13,3,"mat-card",14),O.Rb(),O.Nb(35,"mat-divider",8),O.Sb(36,"div",15),O.Sb(37,"div",12),O.Sb(38,"h6"),O.zc(39,"\u0422\u0435\u0430\u0442\u0440\u044b"),O.Rb(),O.Sb(40,"button",13),O.Zb("click",function(){return e.addTheatre(e.initialKitGroupState)}),O.Sb(41,"mat-icon"),O.zc(42,"add"),O.Rb(),O.Rb(),O.Rb(),O.xc(43,bt,13,3,"mat-card",14),O.Rb(),O.Rb(),O.Rb()),2&t&&(O.ic("formGroup",e.addOrderForm),O.Bb(16),O.ic("ngForOf",e.months),O.Bb(1),O.ic("vertical",!0),O.Bb(6),O.ic("ngForOf",e.shipmentTypes),O.Bb(11),O.ic("ngForOf",e.kits.controls),O.Bb(1),O.ic("vertical",!0),O.Bb(8),O.ic("ngForOf",e.theatres.controls))},directives:[B.v,B.o,B.h,P.a,I.c,I.f,A.b,B.c,B.n,B.g,G.a,T.j,M.a,B.i,B.d,w.a,N.a,D.n,B.r,B.f],styles:["[_nghost-%COMP%]{display:block;min-width:500px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;height:100%;box-sizing:border-box}.form__block[_ngcontent-%COMP%]{grid-template-columns:1fr 1px 1fr;grid-gap:16px}.form__block[_ngcontent-%COMP%], .form__comment[_ngcontent-%COMP%]{display:grid;width:100%}.form__array[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form__array-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 40px;grid-template-rows:repeat(auto-fill,41px);grid-gap:16px}.form__array-title[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.scrollbar[_ngcontent-%COMP%]{max-height:50vh}.select-card[_ngcontent-%COMP%]{display:grid}"]}),mt),dt=((lt=function(){function t(e){a(this,t),this.store=e,this.orderTypes=S.b}return r(t,[{key:"setCurrentOrderType",value:function(t){var e=Object.values(S.b).reduce(function(e,r){return r===t.tab.textLabel.toLowerCase()&&(e=r),e},S.b.subscription);this.store.saveForm({orderType:e})}}]),t}()).\u0275fac=function(t){return new(t||lt)(O.Mb(F))},lt.\u0275cmp=O.Gb({type:lt,selectors:[["ntv-order-form"]],decls:7,vars:6,consts:[["mat-stretch-tabs","","dynamicHeight","",3,"selectedTabChange"],[3,"label"]],template:function(t,e){1&t&&(O.Sb(0,"mat-tab-group",0),O.Zb("selectedTabChange",function(t){return e.setCurrentOrderType(t)}),O.Sb(1,"mat-tab",1),O.ec(2,"titlecase"),O.Nb(3,"ntv-subscription-form"),O.Rb(),O.Sb(4,"mat-tab",1),O.ec(5,"titlecase"),O.Nb(6,"ntv-once-form"),O.Rb(),O.Rb()),2&t&&(O.Bb(1),O.ic("label",O.fc(2,2,e.orderTypes.subscription)),O.Bb(3),O.ic("label",O.fc(5,4,e.orderTypes.check)))},directives:[_.b,_.a,ot,ft],pipes:[T.r],styles:["[_nghost-%COMP%]{display:block}"]}),lt),pt=i("/1cH");function ht(t,e){if(1&t&&(O.Sb(0,"mat-option",14),O.zc(1),O.Rb()),2&t){var r=e.$implicit;O.ic("value",r),O.Bb(1),O.Bc(" ",r.name," ")}}var gt,vt=((gt=function(){function t(e,r,n){a(this,t),this.fb=e,this.store=r,this.addOrderService=n,this.destroyer$$=new x.a,this.loadingStates=f.a,this.autocompleteOptions=[]}return r(t,[{key:"ngOnInit",value:function(){this.initForm(),this.loadingState$=this.store.select(function(t){return t.loadingState}),this.setFormFromStore(),this.initFormSaver(),this.initAutocomplete(),this.initResetListener()}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"setCustomerFromAutocomplete",value:function(t){this.addCustomerForm.setValue(t.option.value)}},{key:"resetForm",value:function(){this.addCustomerForm.reset()}},{key:"initForm",value:function(){this.addCustomerForm=this.fb.group({id:NaN,name:"",contacts:this.fb.group({email:"",inst:"",phone:""}),address:this.fb.group({city:"",address:""})})}},{key:"setFormFromStore",value:function(){var t=this;this.store.select(function(t){return t.customer}).pipe(Object(j.a)(1),Object(g.a)(function(e){t.addCustomerForm.setValue(e)})).subscribe()}},{key:"initFormSaver",value:function(){var t=this;this.addCustomerForm.valueChanges.pipe(Object($.a)(this.destroyer$$),Object(m.a)(500)).subscribe(function(e){t.store.saveForm({customer:e})})}},{key:"initAutocomplete",value:function(){var t,e=this;null===(t=this.addCustomerForm.get("name"))||void 0===t||t.valueChanges.pipe(Object($.a)(this.destroyer$$),Object(m.a)(300),Object(h.a)(function(t){return e.addOrderService.getPersonsByName(t)})).subscribe(function(t){e.autocompleteOptions=t})}},{key:"initResetListener",value:function(){var t=this;this.store.select(function(t){return t.resetForm}).pipe(Object($.a)(this.destroyer$$),Object(g.a)(function(e){e&&t.resetForm()})).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||gt)(O.Mb(B.e),O.Mb(F),O.Mb(R.a))},gt.\u0275cmp=O.Gb({type:gt,selectors:[["ntv-customer-form"]],decls:33,vars:3,consts:[[1,"form",3,"formGroup"],["appearance","standard"],["matInput","","formControlName","name",3,"matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","contacts",1,"form__group"],["matInput","","formControlName","email"],["matInput","","formControlName","inst"],["matInput","","formControlName","phone"],["formGroupName","address",1,"form__group"],["matInput","","formControlName","city"],["matInput","","formControlName","address"],["mat-icon-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(O.Sb(0,"form",0),O.Sb(1,"mat-form-field",1),O.Sb(2,"mat-label"),O.zc(3,"\u0424\u0418\u041e"),O.Rb(),O.Nb(4,"input",2),O.Sb(5,"mat-autocomplete",3,4),O.Zb("optionSelected",function(t){return e.setCustomerFromAutocomplete(t)}),O.xc(7,ht,2,2,"mat-option",5),O.Rb(),O.Rb(),O.Sb(8,"div",6),O.Sb(9,"mat-form-field",1),O.Sb(10,"mat-label"),O.zc(11,"E-mail"),O.Rb(),O.Nb(12,"input",7),O.Rb(),O.Sb(13,"mat-form-field",1),O.Sb(14,"mat-label"),O.zc(15,"\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c"),O.Rb(),O.Nb(16,"input",8),O.Rb(),O.Sb(17,"mat-form-field",1),O.Sb(18,"mat-label"),O.zc(19,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),O.Rb(),O.Nb(20,"input",9),O.Rb(),O.Rb(),O.Sb(21,"div",10),O.Sb(22,"mat-form-field",1),O.Sb(23,"mat-label"),O.zc(24,"\u0413\u043e\u0440\u043e\u0434"),O.Rb(),O.Nb(25,"input",11),O.Rb(),O.Sb(26,"mat-form-field",1),O.Sb(27,"mat-label"),O.zc(28,"\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0430\u0434\u0440\u0435\u0441"),O.Rb(),O.Nb(29,"input",12),O.Rb(),O.Sb(30,"button",13),O.Zb("click",function(){return e.resetForm()}),O.Sb(31,"mat-icon"),O.zc(32,"refresh"),O.Rb(),O.Rb(),O.Rb(),O.Rb()),2&t){var r=O.nc(6);O.ic("formGroup",e.addCustomerForm),O.Bb(4),O.ic("matAutocomplete",r),O.Bb(3),O.ic("ngForOf",e.autocompleteOptions)}},directives:[B.v,B.o,B.h,I.c,I.f,A.b,B.c,pt.c,B.n,B.g,pt.a,T.j,B.i,w.a,N.a,D.n],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px 0}.form__group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:16px}.form__loading-state[_ngcontent-%COMP%]{justify-self:flex-end;align-self:flex-end}.form__refresh-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 40px;grid-gap:16px}"]}),gt),St=i("4Kj8");function yt(t,e){1&t&&(O.Sb(0,"span",6),O.zc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c... "),O.Nb(2,"ntv-spinner",7),O.Rb()),2&t&&(O.Bb(2),O.ic("diameter",16))}function Ot(t,e){1&t&&(O.Sb(0,"span",6),O.zc(1," \u041e\u0448\u0438\u0431\u043a\u0430, \u043d\u0430\u0436\u043c\u0438 \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430 "),O.Sb(2,"mat-icon",8),O.zc(3,"error"),O.Rb(),O.Rb())}function Rt(t,e){1&t&&(O.Qb(0),O.zc(1," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437 "),O.Pb())}function Ct(t,e){if(1&t){var r=O.Tb();O.Qb(0),O.Sb(1,"button",3),O.Zb("click",function(){O.pc(r);var t=e.ngIf;return O.dc().registerNewOrder(t)}),O.ec(2,"async"),O.xc(3,yt,3,1,"span",4),O.xc(4,Ot,4,0,"span",4),O.xc(5,Rt,2,0,"ng-container",5),O.Rb(),O.Pb()}if(2&t){var n=O.dc();O.Bb(1),O.ic("ngSwitch",O.fc(2,3,n.loadingState$)),O.Bb(2),O.ic("ngSwitchCase",n.loadingStates.loading),O.Bb(1),O.ic("ngSwitchCase",n.loadingStates.err)}}var Ft,kt,_t,xt=[{path:"",component:(Ft=function(){function t(e){a(this,t),this.store=e,this.loadingStates=f.a}return r(t,[{key:"ngOnInit",value:function(){this.store.setFormData(),this.loadingState$=this.store.select(function(t){return t.loadingState}).pipe(Object(m.a)(200)),this.state$=this.store.select(function(t){return t})}},{key:"registerNewOrder",value:function(t){this.store.registerNewOrder(t)}}]),t}(),Ft.\u0275fac=function(t){return new(t||Ft)(O.Mb(F))},Ft.\u0275cmp=O.Gb({type:Ft,selectors:[["ntv-add-order"]],features:[O.Ab([F])],decls:10,vars:3,consts:[[1,"scrollbar"],[1,"add-order"],[4,"ngIf"],["mat-raised-button","",1,"submit-button",3,"ngSwitch","click"],["class","submit-button__content",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"submit-button__content"],[1,"submit-button__spinner",3,"diameter"],[1,"submit-button__error-icon"]],template:function(t,e){1&t&&(O.Sb(0,"ng-scrollbar",0),O.Sb(1,"div",1),O.Sb(2,"p"),O.zc(3,"\u0417\u0430\u043a\u0430\u0437"),O.Rb(),O.Nb(4,"ntv-order-form"),O.Sb(5,"p"),O.zc(6,"\u041a\u043b\u0438\u0435\u043d\u0442"),O.Rb(),O.Nb(7,"ntv-customer-form"),O.xc(8,Ct,6,5,"ng-container",2),O.ec(9,"async"),O.Rb(),O.Rb()),2&t&&(O.Bb(8),O.ic("ngIf",O.fc(9,1,e.state$)))},directives:[k.a,dt,vt,T.k,w.a,T.m,T.n,T.o,St.a,N.a],pipes:[T.b],styles:["[_nghost-%COMP%]{display:block;width:100%}.add-order[_ngcontent-%COMP%]{padding:24px}.submit-button__content[_ngcontent-%COMP%]{display:flex;align-items:center}.submit-button__spinner[_ngcontent-%COMP%]{margin-top:0;margin-left:8px}.submit-button__error-icon[_ngcontent-%COMP%]{margin-left:8px}.scrollbar[_ngcontent-%COMP%]{max-height:calc(100vh - 64px);min-height:calc(100vh - 64px)}"]}),Ft)}],jt=((_t=function t(){a(this,t)}).\u0275mod=O.Kb({type:_t}),_t.\u0275inj=O.Jb({factory:function(t){return new(t||_t)},imports:[[l.h.forChild(xt)],l.h]}),_t),$t=((kt=function t(){a(this,t)}).\u0275mod=O.Kb({type:kt}),kt.\u0275inj=O.Jb({factory:function(t){return new(t||kt)},imports:[[jt,b.a]]}),kt)}}])}();