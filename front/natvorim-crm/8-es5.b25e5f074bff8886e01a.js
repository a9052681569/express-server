!function(){function t(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&e(t,r)}function e(t,r){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,r)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,i=o(t);if(e){var a=o(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return n(this,r)}}function n(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(s){o=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"5tjk":function(e,n,o){"use strict";o.r(n),o.d(n,"PeopleModule",function(){return sr});var c=o("tyNb"),s=o("XNiG"),b=o("1G5W"),d=o("HnnZ"),f=o("Kj3r"),m=function(t){return t.loading="loading",t.err="err",t}({}),p=o("HDdC"),h=o("quSY"),g=o("7Hc7"),v=o("jtHE"),S=o("7+OI"),y=o("LRne"),O=o("7HRe"),k=o("qgXg"),_=o("z6cu"),R=o("itXk"),C=o("bOdf"),x=o("zp1y"),j=o("IzEk"),F=o("lJxs"),M=o("/uUt"),w=o("UXun"),B=o("fXoL");function z(){return function(t){return new p.a(function(e){var r,n,o=new h.a;return o.add(t.subscribe({complete:function(){r&&e.next(n),e.complete()},error:function(t){e.error(t)},next:function(t){n=t,r||(r=g.a.schedule(function(){e.next(n),r=void 0}),o.add(r))}})),o})}}var N,P,$,I=new B.s("ComponentStore InitState"),T=((N=function(){function t(e){u(this,t),this.destroySubject$=new v.a(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new v.a(1),this.isInitialized=!1,this.notInitializedErrorMessage=this.constructor.name+" has not been initialized yet. Please make sure it is initialized before updating/getting.",this.state$=this.select(function(t){return t}),e&&this.initState(e)}return l(t,[{key:"ngOnDestroy",value:function(){this.stateSubject$.complete(),this.destroySubject$.next()}},{key:"updater",value:function(t){var e=this;return function(r){var n,o=(Object(S.a)(r)?r:Object(y.a)(r)).pipe(Object(C.a)(function(t){return e.isInitialized?Object(O.a)([t],k.b).pipe(Object(x.a)(e.stateSubject$)):Object(_.a)(new Error(e.notInitializedErrorMessage))}),Object(b.a)(e.destroy$)).subscribe({next:function(r){var n=a(r,2),o=n[0],i=n[1];e.stateSubject$.next(t(i,o))},error:function(t){n=t,e.stateSubject$.error(t)}});if(n)throw n;return o}}},{key:"initState",value:function(t){var e=this;Object(O.a)([t],k.b).subscribe(function(t){e.isInitialized=!0,e.stateSubject$.next(t)})}},{key:"setState",value:function(t){"function"!=typeof t?this.initState(t):this.updater(t)()}},{key:"get",value:function(t){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);var e;return this.stateSubject$.pipe(Object(j.a)(1)).subscribe(function(r){e=t?t(r):r}),e}},{key:"select",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(t){var e,r=Array.from(t),n={debounce:!1},o=r.pop();return"function"!=typeof o?(n=Object.assign(Object.assign({},n),o),e=r.pop()):e=o,{observables:r,projector:e,config:n}}(e),o=n.observables,a=n.projector,c=n.config;return(0===o.length?this.stateSubject$.pipe(c.debounce?z():function(t){return t},Object(F.a)(a)):Object(R.b)(o).pipe(c.debounce?z():function(t){return t},Object(F.a)(function(t){return a.apply(void 0,i(t))}))).pipe(Object(M.a)(),Object(w.a)({refCount:!0,bufferSize:1}),Object(b.a)(this.destroy$))}},{key:"effect",value:function(t){var e=this,r=new s.a;return t(r).pipe(Object(b.a)(this.destroy$)).subscribe(),function(t){return(Object(S.a)(t)?t:Object(y.a)(t)).pipe(Object(b.a)(e.destroy$)).subscribe(function(t){r.next(t)})}}}]),t}()).\u0275fac=function(t){return new(t||N)(B.Wb(I,8))},N.\u0275prov=B.Ib({token:N,factory:N.\u0275fac}),N),D=o("eIep"),A=o("vkgz"),E=o("JIr8"),G=function(t){return t.cdek="\u0441\u0434\u044d\u043a",t.post="\u043f\u043e\u0447\u0442\u0430",t.courier="\u043a\u0443\u0440\u044c\u0435\u0440",t}({}),K=function(t){return t.check="\u043f\u0440\u043e\u0431\u043d\u044b\u0439",t.subscription="\u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430",t}({}),Z=function(t){return t.twoThree="2-3",t.fourSix="4-6",t.sevenNine="7-9",t}({}),V=o("AytR"),q=o("tk/3"),H=((P=function(){function t(e){u(this,t),this.http=e}return l(t,[{key:"updateFormData",value:function(t){return this.http.patch(V.a.apiEndpoints.addOrderFormData,t)}},{key:"getFormData",value:function(){return this.http.get(V.a.apiEndpoints.addOrderFormData)}},{key:"getPersonsByName",value:function(t){return this.http.post(V.a.apiEndpoints.customersForAutocomplete,{name:t})}},{key:"postOrders",value:function(t){return this.http.put(V.a.apiEndpoints.postOrders,t)}},{key:"postCustomer",value:function(t){return this.http.post(V.a.apiEndpoints.postCustomer,t)}}]),t}()).\u0275fac=function(t){return new(t||P)(B.Wb(q.a))},P.\u0275prov=B.Ib({token:P,factory:P.\u0275fac,providedIn:"root"}),P),W=o("0IaG"),Q=(($=function(e){t(o,e);var n=r(o);function o(t,e){var r;return u(this,o),(r=n.call(this,J)).addOrderService=t,r.dialog=e,r.saveForm=r.effect(function(t){return t.pipe(Object(D.a)(function(t){var e={},n=Array.isArray(t);return r.reqFormPending(),n?e.orders=t:e.customer=t,r.addOrderService.updateFormData(e).pipe(Object(A.a)(function(t){r.reqFormSuccess(t)}),Object(E.a)(function(t){return r.reqFormError(),Object(_.a)(t)}))}))}),r.setFormData=r.effect(function(t){return t.pipe(Object(D.a)(function(){return r.reqFormPending(),r.addOrderService.getFormData().pipe(Object(A.a)(function(t){r.reqFormSuccess(t)}),Object(E.a)(function(t){return r.reqFormError(),Object(_.a)(t)}))}))}),r.registerNewOrder=r.effect(function(t){return t.pipe(Object(D.a)(function(t){return r.reqFormPending(),r.addOrderService.getPersonsByName(t.customer.name).pipe(Object(D.a)(function(e){return e.length?(t.orders.forEach(function(t){t.personId=e[0].id,t.id=Math.round(1e6*Math.random())}),r.addOrderService.postOrders(t.orders).pipe(Object(A.a)(function(){r.resetState(),r.dialog.closeAll()}))):(t.customer.id=Math.round(1e6*Math.random()),t.orders.forEach(function(e){e.personId=t.customer.id,e.id=Math.round(1e6*Math.random())}),r.addOrderService.postCustomer(t.customer).pipe(Object(D.a)(function(){return r.addOrderService.postOrders(t.orders).pipe(Object(A.a)(function(){r.resetState(),r.dialog.closeAll()}))})))}),Object(E.a)(function(t){return r.reqFormError(),Object(_.a)(t)}))}))}),r.resetState=r.updater(function(t){return J}),r.reqFormPending=r.updater(function(t){return Object.assign(Object.assign({},t),{loadingState:m.loading})}),r.reqFormSuccess=r.updater(function(t,e){return Object.assign(Object.assign({},e),{loadingState:null})}),r.reqFormError=r.updater(function(t){return Object.assign(Object.assign({},t),{loadingState:m.err})}),r}return o}(T)).\u0275fac=function(t){return new(t||$)(B.Wb(H),B.Wb(W.b))},$.\u0275prov=B.Ib({token:$,factory:$.\u0275fac}),$),J={customer:{id:NaN,name:"",contacts:{email:"",inst:"",phone:""},address:{city:"",address:""}},orders:[{id:NaN,personId:NaN,sended:!1,shipmentDate:"",shipmentType:G.post,trackNumber:"",type:K.check,orderDate:"",orderStructure:{kits:[],theatres:[]},comment:""}],loadingState:null},X=o("7EHt"),U=o("3Pt+"),L=o("kmnG"),Y=o("qFsG"),tt=o("/1cH"),et=o("ofXK"),rt=o("bTqV"),nt=o("NFeN"),ot=o("FKr1");function it(t,e){if(1&t&&(B.Sb(0,"mat-option",14),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r.name," ")}}var at,ct=((at=function(){function t(e,r,n){u(this,t),this.fb=e,this.store=r,this.addOrderService=n,this.destroyer$$=new s.a,this.loadingStates=m,this.autocompleteOptions=[]}return l(t,[{key:"ngOnInit",value:function(){this.initForm(),this.loadingState$=this.store.select(function(t){return t.loadingState}),this.initFormSetter(),this.initFormSaver(),this.initAutocomplete()}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"setCustomerFromAutocomplete",value:function(t){this.store.saveForm(t.option.value)}},{key:"resetForm",value:function(){this.store.saveForm(J.customer)}},{key:"initForm",value:function(){this.addCustomerForm=this.fb.group({id:NaN,name:"",contacts:this.fb.group({email:"",inst:"",phone:""}),address:this.fb.group({city:"",address:""})})}},{key:"initFormSetter",value:function(){var t=this;this.store.select(function(t){return t.customer}).pipe(Object(b.a)(this.destroyer$$),Object(A.a)(function(e){t.isCustomersEqual(t.addCustomerForm.value,e)||t.addCustomerForm.setValue(e)})).subscribe()}},{key:"initFormSaver",value:function(){var t=this;this.addCustomerForm.valueChanges.pipe(Object(b.a)(this.destroyer$$),Object(f.a)(500)).subscribe(function(e){return t.store.saveForm(e)})}},{key:"initAutocomplete",value:function(){var t,e=this;null===(t=this.addCustomerForm.get("name"))||void 0===t||t.valueChanges.pipe(Object(b.a)(this.destroyer$$),Object(f.a)(300),Object(D.a)(function(t){return e.addOrderService.getPersonsByName(t)})).subscribe(function(t){e.autocompleteOptions=t})}},{key:"isCustomersEqual",value:function(t,e){var r=this.getDeepValues(Object.values(t)),n=this.getDeepValues(Object.values(e));return r.every(function(t){return n.includes(t)})}},{key:"getDeepValues",value:function(t){var e=this;return t.reduce(function(t,r){return"object"!=typeof r||null===r?t.push(r):Array.isArray(r)?t.push.apply(t,i(e.getDeepValues(r))):t.push.apply(t,i(e.getDeepValues(Object.values(r)))),t},[])}}]),t}()).\u0275fac=function(t){return new(t||at)(B.Mb(U.e),B.Mb(Q),B.Mb(H))},at.\u0275cmp=B.Gb({type:at,selectors:[["ntv-customer-form"]],decls:33,vars:3,consts:[[1,"form",3,"formGroup"],["appearance","standard"],["matInput","","formControlName","name",3,"matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","contacts",1,"form__group"],["matInput","","formControlName","email"],["matInput","","formControlName","inst"],["matInput","","formControlName","phone"],["formGroupName","address",1,"form__group"],["matInput","","formControlName","city"],["matInput","","formControlName","address"],["mat-icon-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(B.Sb(0,"form",0),B.Sb(1,"mat-form-field",1),B.Sb(2,"mat-label"),B.zc(3,"\u0424\u0418\u041e"),B.Rb(),B.Nb(4,"input",2),B.Sb(5,"mat-autocomplete",3,4),B.Zb("optionSelected",function(t){return e.setCustomerFromAutocomplete(t)}),B.xc(7,it,2,2,"mat-option",5),B.Rb(),B.Rb(),B.Sb(8,"div",6),B.Sb(9,"mat-form-field",1),B.Sb(10,"mat-label"),B.zc(11,"E-mail"),B.Rb(),B.Nb(12,"input",7),B.Rb(),B.Sb(13,"mat-form-field",1),B.Sb(14,"mat-label"),B.zc(15,"\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c"),B.Rb(),B.Nb(16,"input",8),B.Rb(),B.Sb(17,"mat-form-field",1),B.Sb(18,"mat-label"),B.zc(19,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),B.Rb(),B.Nb(20,"input",9),B.Rb(),B.Rb(),B.Sb(21,"div",10),B.Sb(22,"mat-form-field",1),B.Sb(23,"mat-label"),B.zc(24,"\u0413\u043e\u0440\u043e\u0434"),B.Rb(),B.Nb(25,"input",11),B.Rb(),B.Sb(26,"mat-form-field",1),B.Sb(27,"mat-label"),B.zc(28,"\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0430\u0434\u0440\u0435\u0441"),B.Rb(),B.Nb(29,"input",12),B.Rb(),B.Sb(30,"button",13),B.Zb("click",function(){return e.resetForm()}),B.Sb(31,"mat-icon"),B.zc(32,"refresh"),B.Rb(),B.Rb(),B.Rb(),B.Rb()),2&t){var r=B.nc(6);B.ic("formGroup",e.addCustomerForm),B.Bb(4),B.ic("matAutocomplete",r),B.Bb(3),B.ic("ngForOf",e.autocompleteOptions)}},directives:[U.w,U.p,U.h,L.c,L.f,Y.b,U.c,tt.c,U.o,U.g,tt.a,et.j,U.i,rt.b,nt.a,ot.n],styles:[".form[_ngcontent-%COMP%]{flex-direction:column;padding:16px 0}.form[_ngcontent-%COMP%], .form__group[_ngcontent-%COMP%]{display:flex;gap:16px}.form__loading-state[_ngcontent-%COMP%]{justify-self:flex-end;align-self:flex-end}.form__refresh-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 40px;grid-gap:16px}"]}),at),st=o("wZkO"),ut=o("G1Gu"),bt=o("f0Cb"),lt=o("Wp6s"),dt=o("d3UM");function ft(t,e){if(1&t&&(B.Sb(0,"mat-option",15),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function mt(t,e){if(1&t){var r=B.Tb();B.Sb(0,"mat-card",10),B.Sb(1,"mat-form-field",11),B.Sb(2,"mat-label"),B.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),B.Rb(),B.Nb(4,"input",12),B.Rb(),B.Sb(5,"button",5),B.Zb("click",function(){B.pc(r);var t=e.index;return B.dc().removeKit(t)}),B.Sb(6,"mat-icon"),B.zc(7,"delete"),B.Rb(),B.Rb(),B.Sb(8,"mat-form-field",11),B.Sb(9,"mat-label"),B.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),B.Rb(),B.Sb(11,"mat-select",13),B.xc(12,ft,2,2,"mat-option",14),B.Rb(),B.Rb(),B.Rb()}if(2&t){var n=e.$implicit,o=B.dc();B.Bb(4),B.ic("formControl",o.getControl(n.get("count"))),B.Bb(7),B.ic("formControl",o.getControl(n.get("age"))),B.Bb(1),B.ic("ngForOf",o.ages)}}function pt(t,e){if(1&t&&(B.Sb(0,"mat-option",17),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function ht(t,e){if(1&t){var r=B.Tb();B.Sb(0,"mat-card",10),B.Sb(1,"mat-form-field",11),B.Sb(2,"mat-label"),B.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),B.Rb(),B.Nb(4,"input",12),B.Rb(),B.Sb(5,"button",5),B.Zb("click",function(){B.pc(r);var t=e.index;return B.dc().removeTheatre(t)}),B.Sb(6,"mat-icon"),B.zc(7,"delete"),B.Rb(),B.Rb(),B.Sb(8,"mat-form-field",11),B.Sb(9,"mat-label"),B.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),B.Rb(),B.Sb(11,"mat-select",13),B.xc(12,pt,2,2,"mat-option",16),B.Rb(),B.Rb(),B.Rb()}if(2&t){var n=e.$implicit,o=B.dc();B.Bb(4),B.ic("formControl",o.getControl(n.get("count"))),B.Bb(7),B.ic("formControl",o.getControl(n.get("age"))),B.Bb(1),B.ic("ngForOf",o.ages)}}var gt,vt=((gt=function(){function t(e,r,n){u(this,t),this.dialogRef=e,this.order=r,this.fb=n,this.ages=Object.values(Z),this.initialKitGroupState={age:Z.twoThree,count:0}}return l(t,[{key:"ngOnInit",value:function(){this.orderStructureForm=this.fb.group({orderStructure:this.fb.group({kits:this.fb.array([]),theatres:this.fb.array([])})}),this.setKitsAndTheatresControls(this.order)}},{key:"setStructure",value:function(){this.dialogRef.close(this.orderStructureForm.value.orderStructure)}},{key:"addKit",value:function(t){this.kits.push(this.fb.group(t))}},{key:"addTheatre",value:function(t){this.theatres.push(this.fb.group(t))}},{key:"removeKit",value:function(t){this.kits.removeAt(t)}},{key:"removeTheatre",value:function(t){this.theatres.removeAt(t)}},{key:"getControl",value:function(t){return t}},{key:"setKitsAndTheatresControls",value:function(t){var e=this;t.orderStructure.kits.forEach(function(t){e.addKit(t)}),t.orderStructure.theatres.forEach(function(t){e.addTheatre(t)})}},{key:"kits",get:function(){return this.orderStructureForm.get("orderStructure").get("kits")}},{key:"theatres",get:function(){return this.orderStructureForm.get("orderStructure").get("theatres")}}]),t}()).\u0275fac=function(t){return new(t||gt)(B.Mb(W.d),B.Mb(W.a),B.Mb(U.e))},gt.\u0275cmp=B.Gb({type:gt,selectors:[["ntv-add-order-structure-dialog"]],decls:24,vars:4,consts:[[1,"scrollbar"],[1,"form",3,"formGroup","ngSubmit"],["formGroupName","orderStructure",1,"form__block"],["formArrayName","kits",1,"form__array"],[1,"form__array-title"],["mat-icon-button","","type","button",3,"click"],["class","form__array-item",4,"ngFor","ngForOf"],[3,"vertical"],["formArrayName","theatres",1,"form__array"],["mat-raised-button",""],[1,"form__array-item"],["appearance","standard"],["type","number","matInput","",3,"formControl"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","dsfsd",3,"value",4,"ngFor","ngForOf"],["name","dsfsd",3,"value"]],template:function(t,e){1&t&&(B.Sb(0,"ng-scrollbar",0),B.Sb(1,"form",1),B.Zb("ngSubmit",function(){return e.setStructure()}),B.Sb(2,"h4"),B.zc(3,"\u0427\u0442\u043e \u0432\u0435\u0437\u0435\u043c"),B.Rb(),B.Sb(4,"div",2),B.Sb(5,"div",3),B.Sb(6,"div",4),B.Sb(7,"h6"),B.zc(8,"\u041d\u0430\u0431\u043e\u0440\u044b"),B.Rb(),B.Sb(9,"button",5),B.Zb("click",function(){return e.addKit(e.initialKitGroupState)}),B.Sb(10,"mat-icon"),B.zc(11,"add"),B.Rb(),B.Rb(),B.Rb(),B.xc(12,mt,13,3,"mat-card",6),B.Rb(),B.Nb(13,"mat-divider",7),B.Sb(14,"div",8),B.Sb(15,"div",4),B.Sb(16,"h6"),B.zc(17,"\u0422\u0435\u0430\u0442\u0440\u044b"),B.Rb(),B.Sb(18,"button",5),B.Zb("click",function(){return e.addTheatre(e.initialKitGroupState)}),B.Sb(19,"mat-icon"),B.zc(20,"add"),B.Rb(),B.Rb(),B.Rb(),B.xc(21,ht,13,3,"mat-card",6),B.Rb(),B.Rb(),B.Sb(22,"button",9),B.zc(23,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),B.Rb(),B.Rb(),B.Rb()),2&t&&(B.Bb(1),B.ic("formGroup",e.orderStructureForm),B.Bb(11),B.ic("ngForOf",e.kits.controls),B.Bb(1),B.ic("vertical",!0),B.Bb(8),B.ic("ngForOf",e.theatres.controls))},directives:[ut.a,U.w,U.p,U.h,U.i,U.d,rt.b,nt.a,et.j,bt.a,lt.a,L.c,L.f,U.s,Y.b,U.c,U.o,U.f,dt.a,ot.n],styles:["[_nghost-%COMP%]{display:block;min-width:500px;margin:-24px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;height:100%;padding:16px;box-sizing:border-box}.form__block[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1px 1fr;grid-gap:16px;width:100%}.form__array[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form__array-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 40px;grid-template-rows:repeat(auto-fill,41px);grid-gap:16px}.form__array-title[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.scrollbar[_ngcontent-%COMP%]{max-height:70vh}"]}),gt),St=o("Qw0g"),yt=o("e1Hi");function Ot(t,e){1&t&&(B.Sb(0,"h4"),B.zc(1,"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0437\u0430\u043a\u0430\u0437\u044b"),B.Rb())}function kt(t,e){if(1&t&&(B.Sb(0,"mat-option",8),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r.date),B.Bb(1),B.Bc(" ",r.name," ")}}function _t(t,e){if(1&t&&(B.Sb(0,"mat-option",8),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function Rt(t,e){if(1&t){var r=B.Tb();B.Sb(0,"mat-card",2),B.Sb(1,"mat-form-field",3),B.Sb(2,"mat-label"),B.zc(3,"\u041c\u0435\u0441\u044f\u0446"),B.Rb(),B.Sb(4,"mat-select",4),B.xc(5,kt,2,2,"mat-option",5),B.Rb(),B.Rb(),B.Sb(6,"mat-form-field",3),B.Sb(7,"mat-label"),B.zc(8,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),B.Rb(),B.Sb(9,"mat-select",4),B.xc(10,_t,2,2,"mat-option",5),B.Rb(),B.Rb(),B.Sb(11,"ntv-overlined",6),B.Zb("click",function(){B.pc(r);var t=e.$implicit;return B.dc().showOrderStructureDialog(t.value)}),B.Rb(),B.Sb(12,"mat-form-field",3),B.Sb(13,"mat-label"),B.zc(14,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),B.Rb(),B.Nb(15,"input",7),B.Rb(),B.Rb()}if(2&t){var n=e.$implicit,o=B.dc();B.Bb(4),B.ic("formControl",o.getControl(n.get("shipmentDate"))),B.Bb(1),B.ic("ngForOf",o.months),B.Bb(4),B.ic("formControl",o.getControl(n.get("shipmentType"))),B.Bb(1),B.ic("ngForOf",o.shipmentTypes),B.Bb(5),B.ic("formControl",o.getControl(n.get("comment")))}}var Ct,xt=((Ct=function(){function t(e,r,n){u(this,t),this.fb=e,this.store=r,this.dialog=n,this.orders=[],this.months=St.a,this.shipmentTypes=Object.values(G),this.destroyer$$=new s.a}return l(t,[{key:"ngOnInit",value:function(){this.ordersControls=this.fb.array([]),this.initFormSetter(),this.initFormSaver()}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"showOrderStructureDialog",value:function(t){this.dialog.open(vt,{data:t})}},{key:"initFormSaver",value:function(){var t=this;this.ordersControls.valueChanges.pipe(Object(b.a)(this.destroyer$$),Object(f.a)(500)).subscribe(function(e){t.store.saveForm(e)})}},{key:"initFormSetter",value:function(){var t=this;this.store.select(function(t){return t.orders}).pipe(Object(b.a)(this.destroyer$$),Object(A.a)(function(e){e.length&&!t.isOrdersEqual(t.ordersControls.value,e)&&(t.ordersControls.clear(),e.forEach(function(e){t.addOrder(e)}))})).subscribe()}},{key:"isOrdersEqual",value:function(t,e){if(t.length!==e.length)return!1;var r=this.getDeepValues(t),n=this.getDeepValues(e);return r.length===n.length&&r.every(function(t){return n.includes(t)})}},{key:"getDeepValues",value:function(t){var e=this;return t.reduce(function(t,r){return"object"!=typeof r||null===r?t.push(r):Array.isArray(r)?t.push.apply(t,i(e.getDeepValues(r))):t.push.apply(t,i(e.getDeepValues(Object.values(r)))),t},[])}},{key:"addOrder",value:function(t){this.ordersControls.push(this.fb.group(t))}},{key:"getControl",value:function(t){return t}}]),t}()).\u0275fac=function(t){return new(t||Ct)(B.Mb(U.e),B.Mb(Q),B.Mb(W.b))},Ct.\u0275cmp=B.Gb({type:Ct,selectors:[["ntv-subscription-orders-form"]],inputs:{orders:"orders"},decls:2,vars:2,consts:[[4,"ngIf"],["class","array-item",4,"ngFor","ngForOf"],[1,"array-item"],["appearance","standard"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["overline","\u043d\u0430\u0431\u043e\u0440\u044b","value","\u041d\u0430\u0436\u043c\u0438",3,"click"],["matInput","",3,"formControl"],[3,"value"]],template:function(t,e){1&t&&(B.xc(0,Ot,2,0,"h4",0),B.xc(1,Rt,16,5,"mat-card",1)),2&t&&(B.ic("ngIf",e.ordersControls.length),B.Bb(1),B.ic("ngForOf",e.ordersControls.controls))},directives:[et.k,et.j,lt.a,L.c,L.f,dt.a,U.o,U.f,yt.a,Y.b,U.c,ot.n],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:16px}.array-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:16px}"]}),Ct);function jt(t,e){if(1&t&&(B.Sb(0,"mat-option",8),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r.date),B.Bb(1),B.Bc(" ",r.name," ")}}function Ft(t,e){if(1&t&&(B.Sb(0,"mat-option",8),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}var Mt,wt=((Mt=function(){function t(e,r,n){u(this,t),this.fb=e,this.store=r,this.dialog=n,this.shipmentTypes=Object.values(G),this.months=St.a,this.destroyer$$=new s.a}return l(t,[{key:"ngOnInit",value:function(){this.addSubscriptionForm=this.fb.group({months:"",shipmentType:"",orderStructure:""}),this.initFormSetter(),this.initFormSaver()}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"initFormSetter",value:function(){var t=this;this.store.select(function(t){return t.orders}).pipe(Object(b.a)(this.destroyer$$),Object(A.a)(function(e){var r={months:e.map(function(t){return t.shipmentDate}),shipmentType:e[0].shipmentType,orderStructure:e[0].orderStructure||J.orders[0].orderStructure};t.isArraysEqual(Object.values(r),Object.values(t.addSubscriptionForm.value))||t.addSubscriptionForm.setValue(r)})).subscribe()}},{key:"initFormSaver",value:function(){var t=this;this.addSubscriptionForm.valueChanges.pipe(Object(b.a)(this.destroyer$$),Object(f.a)(500)).subscribe(function(e){if(Array.isArray(e.months)){var r=e.months.map(function(t){return{id:J.orders[0].id,personId:J.orders[0].personId,comment:J.orders[0].comment,sended:J.orders[0].sended,shipmentDate:t,shipmentType:e.shipmentType,trackNumber:J.orders[0].trackNumber,type:K.subscription,orderStructure:e.orderStructure,orderDate:(new Date).toISOString()}});t.store.saveForm(r)}})}},{key:"showOrderStructureSelectionDialog",value:function(){var t=this;this.store.select(function(t){return t.orders[0]}).pipe(Object(j.a)(1)).subscribe(function(e){t.dialog.open(vt,{data:e}).afterClosed().subscribe(function(e){t.addSubscriptionForm.patchValue({orderStructure:e})})})}},{key:"isArraysEqual",value:function(t,e){if(t.length!==e.length)return!1;var r=this.getDeepValues(t),n=this.getDeepValues(e);return r.length===n.length&&r.every(function(t){return n.includes(t)})}},{key:"getDeepValues",value:function(t){var e=this;return t.reduce(function(t,r){return"object"!=typeof r||null===r?t.push(r):Array.isArray(r)?t.push.apply(t,i(e.getDeepValues(r))):t.push.apply(t,i(e.getDeepValues(Object.values(r)))),t},[])}}]),t}()).\u0275fac=function(t){return new(t||Mt)(B.Mb(U.e),B.Mb(Q),B.Mb(W.b))},Mt.\u0275cmp=B.Gb({type:Mt,selectors:[["ntv-subscription-form"]],decls:18,vars:3,consts:[[1,"scrollbar"],[1,"form-container"],[1,"form",3,"formGroup"],["appearance","standard"],["formControlName","months","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","shipmentType"],["mat-flat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(B.Sb(0,"ng-scrollbar",0),B.Sb(1,"div",1),B.Sb(2,"h4"),B.zc(3,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u043c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"),B.Rb(),B.Sb(4,"form",2),B.Sb(5,"mat-form-field",3),B.Sb(6,"mat-label"),B.zc(7,"\u041c\u0435\u0441\u044f\u0446\u044b"),B.Rb(),B.Sb(8,"mat-select",4),B.xc(9,jt,2,2,"mat-option",5),B.Rb(),B.Rb(),B.Sb(10,"mat-form-field",3),B.Sb(11,"mat-label"),B.zc(12,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),B.Rb(),B.Sb(13,"mat-select",6),B.xc(14,Ft,2,2,"mat-option",5),B.Rb(),B.Rb(),B.Sb(15,"button",7),B.Zb("click",function(){return e.showOrderStructureSelectionDialog()}),B.zc(16,"\u0421\u043e\u0441\u0442\u0430\u0432 \u0437\u0430\u043a\u0430\u0437\u0430"),B.Rb(),B.Rb(),B.Nb(17,"ntv-subscription-orders-form"),B.Rb(),B.Rb()),2&t&&(B.Bb(4),B.ic("formGroup",e.addSubscriptionForm),B.Bb(5),B.ic("ngForOf",e.months),B.Bb(5),B.ic("ngForOf",e.shipmentTypes))},directives:[ut.a,U.w,U.p,U.h,L.c,L.f,dt.a,U.o,U.g,et.j,rt.b,xt,ot.n],styles:[".form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:16px;height:100%;box-sizing:border-box}.form__order-structure-selector[_ngcontent-%COMP%]{cursor:pointer}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.scrollbar[_ngcontent-%COMP%]{max-height:50vh}"]}),Mt);function Bt(t,e){if(1&t&&(B.Sb(0,"mat-option",17),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r.date),B.Bb(1),B.Bc(" ",r.name," ")}}function zt(t,e){if(1&t&&(B.Sb(0,"mat-option",17),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function Nt(t,e){if(1&t&&(B.Sb(0,"mat-option",17),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function Pt(t,e){if(1&t){var r=B.Tb();B.Sb(0,"mat-card",18),B.Sb(1,"mat-form-field",3),B.Sb(2,"mat-label"),B.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),B.Rb(),B.Nb(4,"input",19),B.Rb(),B.Sb(5,"button",14),B.Zb("click",function(){B.pc(r);var t=e.index;return B.dc().removeKit(t)}),B.Sb(6,"mat-icon"),B.zc(7,"delete"),B.Rb(),B.Rb(),B.Sb(8,"mat-form-field",3),B.Sb(9,"mat-label"),B.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),B.Rb(),B.Sb(11,"mat-select",20),B.xc(12,Nt,2,2,"mat-option",8),B.Rb(),B.Rb(),B.Rb()}if(2&t){var n=e.$implicit,o=B.dc();B.Bb(4),B.ic("formControl",o.getControl(n.get("count"))),B.Bb(7),B.ic("formControl",o.getControl(n.get("age"))),B.Bb(1),B.ic("ngForOf",o.ages)}}function $t(t,e){if(1&t&&(B.Sb(0,"mat-option",22),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function It(t,e){if(1&t){var r=B.Tb();B.Sb(0,"mat-card",18),B.Sb(1,"mat-form-field",3),B.Sb(2,"mat-label"),B.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),B.Rb(),B.Nb(4,"input",19),B.Rb(),B.Sb(5,"button",14),B.Zb("click",function(){B.pc(r);var t=e.index;return B.dc().removeTheatre(t)}),B.Sb(6,"mat-icon"),B.zc(7,"delete"),B.Rb(),B.Rb(),B.Sb(8,"mat-form-field",3),B.Sb(9,"mat-label"),B.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),B.Rb(),B.Sb(11,"mat-select",20),B.xc(12,$t,2,2,"mat-option",21),B.Rb(),B.Rb(),B.Rb()}if(2&t){var n=e.$implicit,o=B.dc();B.Bb(4),B.ic("formControl",o.getControl(n.get("count"))),B.Bb(7),B.ic("formControl",o.getControl(n.get("age"))),B.Bb(1),B.ic("ngForOf",o.ages)}}var Tt,Dt=((Tt=function(){function t(e,r){u(this,t),this.fb=e,this.store=r,this.months=St.a,this.ages=Object.values(Z),this.shipmentTypes=Object.values(G),this.initialKitGroupState={age:Z.twoThree,count:0},this.destroyer$$=new s.a}return l(t,[{key:"ngOnInit",value:function(){this.addOrderForm=this.fb.group({id:J.orders[0].id,personId:J.orders[0].personId,comment:J.orders[0].comment,sended:J.orders[0].sended,shipmentDate:J.orders[0].shipmentDate,shipmentType:J.orders[0].shipmentType,trackNumber:J.orders[0].trackNumber,type:J.orders[0].type,orderStructure:this.fb.group({kits:this.fb.array([]),theatres:this.fb.array([])})}),this.initFormSetter(),this.initFormSaver()}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"initFormSaver",value:function(){var t=this;this.addOrderForm.valueChanges.pipe(Object(b.a)(this.destroyer$$),Object(f.a)(500)).subscribe(function(e){t.store.saveForm([e])})}},{key:"initFormSetter",value:function(){var t=this;this.store.select(function(t){return t.orders}).pipe(Object(b.a)(this.destroyer$$),Object(A.a)(function(e){if(e[0]&&!t.isOrdersEqual(t.addOrderForm.value,e[0])){t.setKitsAndTheatresControls(e[0]);var r=Object.assign({},e[0]);delete r.orderStructure,r.type=K.check,t.addOrderForm.patchValue(r)}})).subscribe()}},{key:"isOrdersEqual",value:function(t,e){var r=this.getDeepValues(Object.values(t)),n=this.getDeepValues(Object.values(e));return r.every(function(t){return n.includes(t)})}},{key:"getDeepValues",value:function(t){var e=this;return t.reduce(function(t,r){return"object"!=typeof r||null===r?t.push(r):Array.isArray(r)?t.push.apply(t,i(e.getDeepValues(r))):t.push.apply(t,i(e.getDeepValues(Object.values(r)))),t},[])}},{key:"addKit",value:function(t){this.kits.push(this.fb.group(t))}},{key:"addTheatre",value:function(t){this.theatres.push(this.fb.group(t))}},{key:"removeKit",value:function(t){this.kits.removeAt(t)}},{key:"removeTheatre",value:function(t){this.theatres.removeAt(t)}},{key:"getControl",value:function(t){return t}},{key:"setKitsAndTheatresControls",value:function(t){var e=this;t.orderStructure.kits.forEach(function(t){e.addKit(t)}),t.orderStructure.theatres.forEach(function(t){e.addTheatre(t)})}},{key:"kits",get:function(){return this.addOrderForm.get("orderStructure").get("kits")}},{key:"theatres",get:function(){return this.addOrderForm.get("orderStructure").get("theatres")}}]),t}()).\u0275fac=function(t){return new(t||Tt)(B.Mb(U.e),B.Mb(Q))},Tt.\u0275cmp=B.Gb({type:Tt,selectors:[["ntv-once-form"]],decls:45,vars:7,consts:[[1,"scrollbar"],[1,"form",3,"formGroup"],[1,"form__comment"],["appearance","standard"],["matInput","","formControlName","comment"],[1,"form__block"],[1,"select-card"],["formControlName","shipmentDate"],[3,"value",4,"ngFor","ngForOf"],[3,"vertical"],["formControlName","shipmentType"],["formGroupName","orderStructure",1,"form__block"],["formArrayName","kits",1,"form__array"],[1,"form__array-title"],["mat-icon-button","","type","button",3,"click"],["class","form__array-item",4,"ngFor","ngForOf"],["formArrayName","theatres",1,"form__array"],[3,"value"],[1,"form__array-item"],["type","number","matInput","",3,"formControl"],[3,"formControl"],["name","dsfsd",3,"value",4,"ngFor","ngForOf"],["name","dsfsd",3,"value"]],template:function(t,e){1&t&&(B.Sb(0,"ng-scrollbar",0),B.Sb(1,"form",1),B.Sb(2,"h4"),B.zc(3,"\u041e \u0437\u0430\u043a\u0430\u0437\u0435"),B.Rb(),B.Sb(4,"mat-card",2),B.Sb(5,"mat-form-field",3),B.Sb(6,"mat-label"),B.zc(7,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),B.Rb(),B.Nb(8,"textarea",4),B.Rb(),B.Rb(),B.Sb(9,"h4"),B.zc(10,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),B.Rb(),B.Sb(11,"div",5),B.Sb(12,"mat-card",6),B.Sb(13,"mat-form-field",3),B.Sb(14,"mat-label"),B.zc(15,"\u0414\u0430\u0442\u0430"),B.Rb(),B.Sb(16,"mat-select",7),B.xc(17,Bt,2,2,"mat-option",8),B.Rb(),B.Rb(),B.Rb(),B.Nb(18,"mat-divider",9),B.Sb(19,"mat-card",6),B.Sb(20,"mat-form-field",3),B.Sb(21,"mat-label"),B.zc(22,"\u0422\u0438\u043f"),B.Rb(),B.Sb(23,"mat-select",10),B.xc(24,zt,2,2,"mat-option",8),B.Rb(),B.Rb(),B.Rb(),B.Rb(),B.Sb(25,"h4"),B.zc(26,"\u0427\u0442\u043e \u0432\u0435\u0437\u0435\u043c"),B.Rb(),B.Sb(27,"div",11),B.Sb(28,"div",12),B.Sb(29,"div",13),B.Sb(30,"h6"),B.zc(31,"\u041d\u0430\u0431\u043e\u0440\u044b"),B.Rb(),B.Sb(32,"button",14),B.Zb("click",function(){return e.addKit(e.initialKitGroupState)}),B.Sb(33,"mat-icon"),B.zc(34,"add"),B.Rb(),B.Rb(),B.Rb(),B.xc(35,Pt,13,3,"mat-card",15),B.Rb(),B.Nb(36,"mat-divider",9),B.Sb(37,"div",16),B.Sb(38,"div",13),B.Sb(39,"h6"),B.zc(40,"\u0422\u0435\u0430\u0442\u0440\u044b"),B.Rb(),B.Sb(41,"button",14),B.Zb("click",function(){return e.addTheatre(e.initialKitGroupState)}),B.Sb(42,"mat-icon"),B.zc(43,"add"),B.Rb(),B.Rb(),B.Rb(),B.xc(44,It,13,3,"mat-card",15),B.Rb(),B.Rb(),B.Rb(),B.Rb()),2&t&&(B.Bb(1),B.ic("formGroup",e.addOrderForm),B.Bb(16),B.ic("ngForOf",e.months),B.Bb(1),B.ic("vertical",!0),B.Bb(6),B.ic("ngForOf",e.shipmentTypes),B.Bb(11),B.ic("ngForOf",e.kits.controls),B.Bb(1),B.ic("vertical",!0),B.Bb(8),B.ic("ngForOf",e.theatres.controls))},directives:[ut.a,U.w,U.p,U.h,lt.a,L.c,L.f,Y.b,U.c,U.o,U.g,dt.a,et.j,bt.a,U.i,U.d,rt.b,nt.a,ot.n,U.s,U.f],styles:["[_nghost-%COMP%]{display:block;min-width:500px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;height:100%;padding:16px;box-sizing:border-box}.form__block[_ngcontent-%COMP%]{grid-template-columns:1fr 1px 1fr;grid-gap:16px}.form__block[_ngcontent-%COMP%], .form__comment[_ngcontent-%COMP%]{display:grid;width:100%}.form__array[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form__array-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 40px;grid-template-rows:repeat(auto-fill,41px);grid-gap:16px}.form__array-title[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.scrollbar[_ngcontent-%COMP%]{max-height:50vh}.select-card[_ngcontent-%COMP%]{display:grid}"]}),Tt);function At(t,e){1&t&&B.Nb(0,"ntv-subscription-form",4)}function Et(t,e){1&t&&B.Nb(0,"ntv-once-form",4)}var Gt,Kt=((Gt=function(){function t(e){u(this,t),this.store=e}return l(t,[{key:"ngOnInit",value:function(){this.orders$=this.store.select(function(t){return t.orders})}}]),t}()).\u0275fac=function(t){return new(t||Gt)(B.Mb(Q))},Gt.\u0275cmp=B.Gb({type:Gt,selectors:[["ntv-order-form"]],decls:5,vars:0,consts:[["mat-stretch-tabs",""],["label","\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"],["matTabContent",""],["label","\u041f\u0440\u043e\u0431\u043d\u044b\u0439"],[1,"tabs__tab"]],template:function(t,e){1&t&&(B.Sb(0,"mat-tab-group",0),B.Sb(1,"mat-tab",1),B.xc(2,At,1,0,"ng-template",2),B.Rb(),B.Sb(3,"mat-tab",3),B.xc(4,Et,1,0,"ng-template",2),B.Rb(),B.Rb())},directives:[st.c,st.a,st.b,wt,Dt],styles:["[_nghost-%COMP%]{display:block;margin:0 -24px -16px}.tabs__tab[_ngcontent-%COMP%]{min-height:50vh;display:block}"]}),Gt),Zt=o("4Kj8");function Vt(t,e){1&t&&(B.Sb(0,"span",5),B.zc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c... "),B.Nb(2,"ntv-spinner",6),B.Rb()),2&t&&(B.Bb(2),B.ic("diameter",16))}function qt(t,e){1&t&&(B.Sb(0,"span",5),B.zc(1," \u041e\u0448\u0438\u0431\u043a\u0430, \u043d\u0430\u0436\u043c\u0438 \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430 "),B.Sb(2,"mat-icon",7),B.zc(3,"error"),B.Rb(),B.Rb())}function Ht(t,e){1&t&&(B.Qb(0),B.zc(1," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437 "),B.Pb())}function Wt(t,e){if(1&t){var r=B.Tb();B.Qb(0),B.Sb(1,"button",2),B.Zb("click",function(){B.pc(r);var t=e.ngIf;return B.dc().registerNewOrder(t)}),B.ec(2,"async"),B.xc(3,Vt,3,1,"span",3),B.xc(4,qt,4,0,"span",3),B.xc(5,Ht,2,0,"ng-container",4),B.Rb(),B.Pb()}if(2&t){var n=B.dc();B.Bb(1),B.ic("ngSwitch",B.fc(2,3,n.loadingState$)),B.Bb(2),B.ic("ngSwitchCase",n.loadingStates.loading),B.Bb(1),B.ic("ngSwitchCase",n.loadingStates.err)}}var Qt,Jt,Xt,Ut,Lt,Yt,te=((Qt=function(){function t(e){u(this,t),this.store=e,this.loadingStates=m}return l(t,[{key:"ngOnInit",value:function(){this.store.setFormData(),this.loadingState$=this.store.select(function(t){return t.loadingState}).pipe(Object(f.a)(200)),this.state$=this.store.select(function(t){return t})}},{key:"registerNewOrder",value:function(t){this.store.registerNewOrder(t)}}]),t}()).\u0275fac=function(t){return new(t||Qt)(B.Mb(Q))},Qt.\u0275cmp=B.Gb({type:Qt,selectors:[["ntv-add-order-dialog"]],features:[B.Ab([Q])],decls:13,vars:3,consts:[["hideToggle",""],[4,"ngIf"],["mat-raised-button","",1,"submit-button",3,"ngSwitch","click"],["class","submit-button__content",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"submit-button__content"],[1,"submit-button__spinner",3,"diameter"],[1,"submit-button__error-icon"]],template:function(t,e){1&t&&(B.Sb(0,"mat-accordion"),B.Sb(1,"mat-expansion-panel",0),B.Sb(2,"mat-expansion-panel-header"),B.Sb(3,"mat-panel-title"),B.zc(4," \u041a\u043b\u0438\u0435\u043d\u0442 "),B.Rb(),B.Rb(),B.Nb(5,"ntv-customer-form"),B.Rb(),B.Sb(6,"mat-expansion-panel",0),B.Sb(7,"mat-expansion-panel-header"),B.Sb(8,"mat-panel-title"),B.zc(9," \u0417\u0430\u043a\u0430\u0437 "),B.Rb(),B.Rb(),B.Nb(10,"ntv-order-form"),B.Rb(),B.Rb(),B.xc(11,Wt,6,5,"ng-container",1),B.ec(12,"async")),2&t&&(B.Bb(11),B.ic("ngIf",B.fc(12,1,e.state$)))},directives:[X.a,X.c,X.f,X.g,ct,Kt,et.k,rt.b,et.m,et.n,et.o,Zt.a,nt.a],pipes:[et.b],styles:["[_nghost-%COMP%]{flex-direction:column;gap:16px}.submit-button__content[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;align-items:center}.submit-button__spinner[_ngcontent-%COMP%]{margin-top:0;margin-left:8px}.submit-button__error-icon[_ngcontent-%COMP%]{margin-left:8px}"]}),Qt),ee=o("l7P3"),re=o("dlKe"),ne=((Jt=function(){function t(e,r,n){u(this,t),this.data=e,this.fb=r,this.store=n}return l(t,[{key:"ngOnInit",value:function(){this.editPersonForm=this.fb.group({name:this.data.person.name,email:this.data.person.contacts.email||"",inst:this.data.person.contacts.inst||"",phone:this.data.person.contacts.phone||"",city:this.data.person.address.city,address:this.data.person.address.address})}},{key:"patchPerson",value:function(){var t,e,r,n,o,i,a={id:this.data.person.id,name:null===(t=this.editPersonForm.get("name"))||void 0===t?void 0:t.value,contacts:{email:null===(e=this.editPersonForm.get("email"))||void 0===e?void 0:e.value,inst:null===(r=this.editPersonForm.get("inst"))||void 0===r?void 0:r.value,phone:null===(n=this.editPersonForm.get("phone"))||void 0===n?void 0:n.value},address:{city:null===(o=this.editPersonForm.get("city"))||void 0===o?void 0:o.value,address:null===(i=this.editPersonForm.get("address"))||void 0===i?void 0:i.value}};this.store.dispatch(d.a.patchPending({customer:a}))}}]),t}()).\u0275fac=function(t){return new(t||Jt)(B.Mb(W.a),B.Mb(U.e),B.Mb(ee.h))},Jt.\u0275cmp=B.Gb({type:Jt,selectors:[["ntv-edit-person-dialog"]],decls:27,vars:1,consts:[[1,"form",3,"formGroup","ngSubmit"],["appearance","standard"],["matInput","","formControlName","name"],["matInput","","formControlName","email"],["matInput","","formControlName","inst"],["matInput","","formControlName","phone"],["matInput","","formControlName","city"],["matInput","","formControlName","address"],["mat-flat-button","","type","submit"]],template:function(t,e){1&t&&(B.Sb(0,"form",0),B.Zb("ngSubmit",function(){return e.patchPerson()}),B.Sb(1,"mat-form-field",1),B.Sb(2,"mat-label"),B.zc(3,"\u0424\u0418\u041e"),B.Rb(),B.Nb(4,"input",2),B.Rb(),B.Sb(5,"mat-form-field",1),B.Sb(6,"mat-label"),B.zc(7,"E-mail"),B.Rb(),B.Nb(8,"input",3),B.Rb(),B.Sb(9,"mat-form-field",1),B.Sb(10,"mat-label"),B.zc(11,"\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c"),B.Rb(),B.Nb(12,"input",4),B.Rb(),B.Sb(13,"mat-form-field",1),B.Sb(14,"mat-label"),B.zc(15,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),B.Rb(),B.Nb(16,"input",5),B.Rb(),B.Sb(17,"mat-form-field",1),B.Sb(18,"mat-label"),B.zc(19,"\u0413\u043e\u0440\u043e\u0434"),B.Rb(),B.Nb(20,"input",6),B.Rb(),B.Sb(21,"mat-form-field",1),B.Sb(22,"mat-label"),B.zc(23,"\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0430\u0434\u0440\u0435\u0441"),B.Rb(),B.Nb(24,"input",7),B.Rb(),B.Sb(25,"button",8),B.zc(26,"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),B.Rb(),B.Rb()),2&t&&B.ic("formGroup",e.editPersonForm)},directives:[U.w,U.p,U.h,L.c,L.f,Y.b,U.c,U.o,U.g,rt.b],styles:["[_nghost-%COMP%]{display:block;min-width:500px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}"]}),Jt),oe=o("dNgK"),ie=((Lt=function(){function t(e){u(this,t),this.snack=e}return l(t,[{key:"clip",value:function(t){var e=this;navigator.clipboard.writeText(t.toString()).then(function(){e.snack.open("\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430",void 0,{duration:2e3})}).catch(function(t){e.snack.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043a\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430",void 0,{duration:2e3})})}}]),t}()).\u0275fac=function(t){return new(t||Lt)(B.Wb(oe.a))},Lt.\u0275prov=B.Ib({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt),ae=((Ut=function(){function t(e){u(this,t),this.http=e}return l(t,[{key:"getOrders",value:function(t){return this.http.post(V.a.apiEndpoints.getOrdersById,{personId:t})}},{key:"patchOrder",value:function(t){return this.http.post("http://localhost:3000/orders/patch",t)}}]),t}()).\u0275fac=function(t){return new(t||Ut)(B.Wb(q.a))},Ut.\u0275prov=B.Ib({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut),ce=((Xt=function(e){t(o,e);var n=r(o);function o(t){var e;return u(this,o),(e=n.call(this,se)).ordersService=t,e.getOrders=e.effect(function(t){return t.pipe(Object(D.a)(function(t){return e.addOrdersPending(),e.ordersService.getOrders(t).pipe(Object(A.a)(function(t){console.log(t),e.addOrdersSuccess(t)}),Object(E.a)(function(t){return e.addOrdersError(),Object(_.a)(t)}))}))}),e.patchOrder=e.updater(function(t,e){var r=t.orders.slice();return r[r.findIndex(function(t){return t.id===e.id})]=Object.assign({},e),Object.assign(Object.assign({},t),{orders:r})}),e.addOrdersPending=e.updater(function(t){return Object.assign(Object.assign({},t),{loading:!0})}),e.addOrdersSuccess=e.updater(function(t,e){return{orders:[].concat(i(t.orders),i(e)),loading:!1,err:!1}}),e.addOrdersError=e.updater(function(t){return Object.assign(Object.assign({},t),{err:!0,loading:!1})}),e}return o}(T)).\u0275fac=function(t){return new(t||Xt)(B.Wb(ae))},Xt.\u0275prov=B.Ib({token:Xt,factory:Xt.\u0275fac}),Xt),se={orders:[],loading:!1,err:!1},ue=o("wJZa"),be=((Yt=function t(){u(this,t)}).\u0275fac=function(t){return new(t||Yt)},Yt.\u0275cmp=B.Gb({type:Yt,selectors:[["ntv-kit"]],inputs:{kit:"kit"},decls:3,vars:6,consts:[[3,"overline","value"]],template:function(t,e){1&t&&(B.Nb(0,"ntv-overlined",0),B.Nb(1,"ntv-overlined",0),B.ec(2,"numberToString")),2&t&&(B.ic("overline","\u0432\u043e\u0437\u0440\u0430\u0441\u0442")("value",e.kit.age),B.Bb(1),B.ic("overline","\u0441\u043a\u043e\u043b\u044c\u043a\u043e")("value",B.fc(2,4,e.kit.count)))},directives:[yt.a],pipes:[ue.a],styles:["[_nghost-%COMP%]{display:flex;gap:16px}"]}),Yt);function le(t,e){1&t&&B.Nb(0,"ntv-kit",4),2&t&&B.ic("kit",e.$implicit)}function de(t,e){1&t&&B.Nb(0,"ntv-kit",4),2&t&&B.ic("kit",e.$implicit)}var fe,me=((fe=function t(e){u(this,t),this.data=e}).\u0275fac=function(t){return new(t||fe)(B.Mb(W.a))},fe.\u0275cmp=B.Gb({type:fe,selectors:[["ntv-order-structure-dialog"]],decls:9,vars:3,consts:[[1,"kits"],[3,"kit",4,"ngFor","ngForOf"],[3,"vertical"],[1,"theatres"],[3,"kit"]],template:function(t,e){1&t&&(B.Sb(0,"div",0),B.Sb(1,"h6"),B.zc(2,"\u041d\u0430\u0431\u043e\u0440\u044b"),B.Rb(),B.xc(3,le,1,1,"ntv-kit",1),B.Rb(),B.Nb(4,"mat-divider",2),B.Sb(5,"div",3),B.Sb(6,"h6"),B.zc(7,"\u0422\u0435\u0430\u0442\u0440\u044b"),B.Rb(),B.xc(8,de,1,1,"ntv-kit",1),B.Rb()),2&t&&(B.Bb(3),B.ic("ngForOf",e.data.orderStructure.kits),B.Bb(1),B.ic("vertical",!0),B.Bb(4),B.ic("ngForOf",e.data.orderStructure.theatres))},directives:[et.j,bt.a,be],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:1fr 1px 1fr;grid-template-rows:repeat(auto-fill,100px);grid-gap:16px}"]}),fe),pe=o("bSwM");function he(t,e){if(1&t&&(B.Sb(0,"mat-option",22),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function ge(t,e){if(1&t&&(B.Sb(0,"mat-option",22),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r.date),B.Bb(1),B.Bc(" ",r.name," ")}}function ve(t,e){if(1&t&&(B.Sb(0,"mat-option",22),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function Se(t,e){if(1&t&&(B.Sb(0,"mat-option",22),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function ye(t,e){if(1&t){var r=B.Tb();B.Sb(0,"mat-card",23),B.Sb(1,"mat-form-field",4),B.Sb(2,"mat-label"),B.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),B.Rb(),B.Nb(4,"input",24),B.Rb(),B.Sb(5,"button",16),B.Zb("click",function(){B.pc(r);var t=e.index;return B.dc().removeKit(t)}),B.Sb(6,"mat-icon"),B.zc(7,"delete"),B.Rb(),B.Rb(),B.Sb(8,"mat-form-field",4),B.Sb(9,"mat-label"),B.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),B.Rb(),B.Sb(11,"mat-select",25),B.xc(12,Se,2,2,"mat-option",10),B.Rb(),B.Rb(),B.Rb()}if(2&t){var n=e.$implicit,o=B.dc();B.Bb(4),B.ic("formControl",o.getControl(n.get("count"))),B.Bb(7),B.ic("formControl",o.getControl(n.get("age"))),B.Bb(1),B.ic("ngForOf",o.ages)}}function Oe(t,e){if(1&t&&(B.Sb(0,"mat-option",27),B.zc(1),B.Rb()),2&t){var r=e.$implicit;B.ic("value",r),B.Bb(1),B.Bc(" ",r," ")}}function ke(t,e){if(1&t){var r=B.Tb();B.Sb(0,"mat-card",23),B.Sb(1,"mat-form-field",4),B.Sb(2,"mat-label"),B.zc(3,"\u0441\u043a\u043e\u043b\u044c\u043a\u043e"),B.Rb(),B.Nb(4,"input",24),B.Rb(),B.Sb(5,"button",16),B.Zb("click",function(){B.pc(r);var t=e.index;return B.dc().removeTheatre(t)}),B.Sb(6,"mat-icon"),B.zc(7,"delete"),B.Rb(),B.Rb(),B.Sb(8,"mat-form-field",4),B.Sb(9,"mat-label"),B.zc(10,"\u0432\u043e\u0437\u0440\u0430\u0441\u0442"),B.Rb(),B.Sb(11,"mat-select",25),B.xc(12,Oe,2,2,"mat-option",26),B.Rb(),B.Rb(),B.Rb()}if(2&t){var n=e.$implicit,o=B.dc();B.Bb(4),B.ic("formControl",o.getControl(n.get("count"))),B.Bb(7),B.ic("formControl",o.getControl(n.get("age"))),B.Bb(1),B.ic("ngForOf",o.ages)}}function _e(t,e){1&t&&(B.Sb(0,"span",28),B.zc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c... "),B.Nb(2,"ntv-spinner",29),B.Rb()),2&t&&(B.Bb(2),B.ic("diameter",16))}function Re(t,e){1&t&&(B.Sb(0,"span",28),B.zc(1," \u041e\u0448\u0438\u0431\u043a\u0430, \u043d\u0430\u0436\u043c\u0438 \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430 "),B.Sb(2,"mat-icon",30),B.zc(3,"error"),B.Rb(),B.Rb())}function Ce(t,e){1&t&&(B.Qb(0),B.zc(1," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),B.Pb())}var xe,je=((xe=function(){function t(e,r,n,o){u(this,t),this.dialogRef=e,this.order=r,this.fb=n,this.ordersService=o,this.loadingStates=m,this.months=St.a,this.ages=Object.values(Z),this.orderTypes=Object.values(K),this.shipmentTypes=Object.values(G),this.initialKitGroupState={age:Z.twoThree,count:0}}return l(t,[{key:"ngOnInit",value:function(){this.editOrderForm=this.fb.group({comment:this.order.comment,sended:this.order.sended,shipmentDate:this.order.shipmentDate,shipmentType:this.order.shipmentType,trackNumber:this.order.trackNumber,type:this.order.type,orderStructure:this.fb.group({kits:this.fb.array([]),theatres:this.fb.array([])})}),this.initKitsAndTheatresControls()}},{key:"patchOrder",value:function(){var t=this,e=Object.assign({id:this.order.id,personId:this.order.personId},this.editOrderForm.value);this.loadingState=this.loadingStates.loading,this.ordersService.patchOrder(e).pipe(Object(A.a)(function(e){t.loadingState=null,t.dialogRef.close(e)}),Object(E.a)(function(e){return t.loadingState=t.loadingStates.err,Object(_.a)(e)})).subscribe()}},{key:"addKit",value:function(t){this.kits.push(this.fb.group(t))}},{key:"addTheatre",value:function(t){this.theatres.push(this.fb.group(t))}},{key:"removeKit",value:function(t){this.kits.removeAt(t)}},{key:"removeTheatre",value:function(t){this.theatres.removeAt(t)}},{key:"getControl",value:function(t){return t}},{key:"initKitsAndTheatresControls",value:function(){var t=this;this.order.orderStructure.kits.forEach(function(e){t.addKit(e)}),this.order.orderStructure.theatres.forEach(function(e){t.addTheatre(e)})}},{key:"kits",get:function(){return this.editOrderForm.get("orderStructure").get("kits")}},{key:"theatres",get:function(){return this.editOrderForm.get("orderStructure").get("theatres")}}]),t}()).\u0275fac=function(t){return new(t||xe)(B.Mb(W.d),B.Mb(W.a),B.Mb(U.e),B.Mb(ae))},xe.\u0275cmp=B.Gb({type:xe,selectors:[["ntv-edit-order-dialog"]],decls:61,vars:12,consts:[[1,"scrollbar"],[1,"form",3,"formGroup","ngSubmit"],[1,"form__block"],[1,"select-card"],["appearance","standard"],["matInput","","formControlName","comment"],[3,"vertical"],[1,"form__block-colomn"],["formControlName","sended"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formControlName","shipmentDate"],["formControlName","shipmentType"],["formGroupName","orderStructure",1,"form__block"],["formArrayName","kits",1,"form__array"],[1,"form__array-title"],["mat-icon-button","","type","button",3,"click"],["class","form__array-item",4,"ngFor","ngForOf"],["formArrayName","theatres",1,"form__array"],["mat-raised-button","","type","submit",1,"submit-button",3,"ngSwitch"],["class","submit-button__content",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"value"],[1,"form__array-item"],["type","number","matInput","",3,"formControl"],[3,"formControl"],["name","dsfsd",3,"value",4,"ngFor","ngForOf"],["name","dsfsd",3,"value"],[1,"submit-button__content"],[1,"submit-button__spinner",3,"diameter"],[1,"submit-button__error-icon"]],template:function(t,e){1&t&&(B.Sb(0,"ng-scrollbar",0),B.Sb(1,"form",1),B.Zb("ngSubmit",function(){return e.patchOrder()}),B.Sb(2,"h4"),B.zc(3,"\u041e \u0437\u0430\u043a\u0430\u0437\u0435"),B.Rb(),B.Sb(4,"div",2),B.Sb(5,"mat-card",3),B.Sb(6,"mat-form-field",4),B.Sb(7,"mat-label"),B.zc(8,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),B.Rb(),B.Nb(9,"textarea",5),B.Rb(),B.Rb(),B.Nb(10,"mat-divider",6),B.Sb(11,"div",7),B.Sb(12,"mat-card",3),B.Sb(13,"mat-checkbox",8),B.zc(14,"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"),B.Rb(),B.Rb(),B.Sb(15,"mat-card",3),B.Sb(16,"mat-form-field",4),B.Sb(17,"mat-label"),B.zc(18,"\u0422\u0438\u043f"),B.Rb(),B.Sb(19,"mat-select",9),B.xc(20,he,2,2,"mat-option",10),B.Rb(),B.Rb(),B.Rb(),B.Rb(),B.Rb(),B.Sb(21,"h4"),B.zc(22,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),B.Rb(),B.Sb(23,"div",2),B.Sb(24,"mat-card",3),B.Sb(25,"mat-form-field",4),B.Sb(26,"mat-label"),B.zc(27,"\u0414\u0430\u0442\u0430"),B.Rb(),B.Sb(28,"mat-select",11),B.xc(29,ge,2,2,"mat-option",10),B.Rb(),B.Rb(),B.Rb(),B.Nb(30,"mat-divider",6),B.Sb(31,"mat-card",3),B.Sb(32,"mat-form-field",4),B.Sb(33,"mat-label"),B.zc(34,"\u0422\u0438\u043f"),B.Rb(),B.Sb(35,"mat-select",12),B.xc(36,ve,2,2,"mat-option",10),B.Rb(),B.Rb(),B.Rb(),B.Rb(),B.Sb(37,"h4"),B.zc(38,"\u0427\u0442\u043e \u0432\u0435\u0437\u0435\u043c"),B.Rb(),B.Sb(39,"div",13),B.Sb(40,"div",14),B.Sb(41,"div",15),B.Sb(42,"h6"),B.zc(43,"\u041d\u0430\u0431\u043e\u0440\u044b"),B.Rb(),B.Sb(44,"button",16),B.Zb("click",function(){return e.addKit(e.initialKitGroupState)}),B.Sb(45,"mat-icon"),B.zc(46,"add"),B.Rb(),B.Rb(),B.Rb(),B.xc(47,ye,13,3,"mat-card",17),B.Rb(),B.Nb(48,"mat-divider",6),B.Sb(49,"div",18),B.Sb(50,"div",15),B.Sb(51,"h6"),B.zc(52,"\u0422\u0435\u0430\u0442\u0440\u044b"),B.Rb(),B.Sb(53,"button",16),B.Zb("click",function(){return e.addTheatre(e.initialKitGroupState)}),B.Sb(54,"mat-icon"),B.zc(55,"add"),B.Rb(),B.Rb(),B.Rb(),B.xc(56,ke,13,3,"mat-card",17),B.Rb(),B.Rb(),B.Sb(57,"button",19),B.xc(58,_e,3,1,"span",20),B.xc(59,Re,4,0,"span",20),B.xc(60,Ce,2,0,"ng-container",21),B.Rb(),B.Rb(),B.Rb()),2&t&&(B.Bb(1),B.ic("formGroup",e.editOrderForm),B.Bb(9),B.ic("vertical",!0),B.Bb(10),B.ic("ngForOf",e.orderTypes),B.Bb(9),B.ic("ngForOf",e.months),B.Bb(1),B.ic("vertical",!0),B.Bb(6),B.ic("ngForOf",e.shipmentTypes),B.Bb(11),B.ic("ngForOf",e.kits.controls),B.Bb(1),B.ic("vertical",!0),B.Bb(8),B.ic("ngForOf",e.theatres.controls),B.Bb(1),B.ic("ngSwitch",e.loadingState),B.Bb(1),B.ic("ngSwitchCase",e.loadingStates.loading),B.Bb(1),B.ic("ngSwitchCase",e.loadingStates.err))},directives:[ut.a,U.w,U.p,U.h,lt.a,L.c,L.f,Y.b,U.c,U.o,U.g,bt.a,pe.a,dt.a,et.j,U.i,U.d,rt.b,nt.a,et.m,et.n,et.o,ot.n,U.s,U.f,Zt.a],styles:["[_nghost-%COMP%]{display:block;min-width:500px;margin:-24px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;width:100%;height:100%;padding:16px}.form__block[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1px 1fr;grid-gap:16px;width:100%}.form__block-colomn[_ngcontent-%COMP%]{width:100%}.form__array[_ngcontent-%COMP%], .form__block-colomn[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form__array-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 40px;grid-template-rows:repeat(auto-fill,41px);grid-gap:16px}.form__array-title[_ngcontent-%COMP%]{gap:16px}.form__array-title[_ngcontent-%COMP%], .submit-button__content[_ngcontent-%COMP%]{display:flex;align-items:center}.submit-button__spinner[_ngcontent-%COMP%]{margin-top:0;margin-left:8px}.submit-button__error-icon[_ngcontent-%COMP%]{margin-left:8px}.scrollbar[_ngcontent-%COMP%]{max-height:90vh}.select-card[_ngcontent-%COMP%]{display:grid}"]}),xe);function Fe(t,e){if(1&t){var r=B.Tb();B.Sb(0,"ntv-overlined",16),B.Zb("click",function(){return B.pc(r),B.dc().showOrderStructureDialog()}),B.Rb()}2&t&&B.ic("overline","\u043d\u0430\u0431\u043e\u0440\u044b")("value","\u043d\u0430\u0436\u043c\u0438 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430")}function Me(t,e){if(1&t&&(B.Qb(0),B.Nb(1,"ntv-overlined",18),B.Nb(2,"ntv-kit",19),B.Pb()),2&t){var r=B.dc(2);B.Bb(2),B.ic("kit",r.order.orderStructure.kits[0])}}function we(t,e){if(1&t&&(B.Qb(0),B.Nb(1,"ntv-overlined",20),B.Nb(2,"ntv-kit",19),B.Pb()),2&t){var r=B.dc(2);B.Bb(2),B.ic("kit",r.order.orderStructure.theatres[0])}}function Be(t,e){if(1&t&&(B.xc(0,Me,3,1,"ng-container",17),B.xc(1,we,3,1,"ng-container",17)),2&t){var r=B.dc();B.ic("ngIf",r.order.orderStructure.kits.length),B.Bb(1),B.ic("ngIf",r.order.orderStructure.theatres.length)}}function ze(t,e){1&t&&(B.Sb(0,"span"),B.zc(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),B.Rb())}function Ne(t,e){1&t&&(B.Sb(0,"span"),B.zc(1,"\u041e\u0448\u0438\u0431\u043a\u0430"),B.Rb())}function Pe(t,e){1&t&&(B.Sb(0,"span"),B.zc(1,"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"),B.Rb())}function $e(t,e){if(1&t){var r=B.Tb();B.Sb(0,"mat-icon",21),B.Zb("click",function(){B.pc(r);var t=B.dc();return t.clipService.clip(t.trackControl.value)}),B.zc(1," copy "),B.Rb()}}function Ie(t,e){1&t&&B.Nb(0,"ntv-spinner",22),2&t&&B.ic("diameter",16)}function Te(t,e){1&t&&(B.Sb(0,"mat-icon",23),B.zc(1," error "),B.Rb())}var De,Ae=((De=function(){function t(e,r,n,o,i){u(this,t),this.dialog=e,this.fb=r,this.ordersStore=n,this.ordersService=o,this.clipService=i,this.controlStates=m,this.sendMarkerControlValueChanger=new s.a,this.destroyer$$=new s.a}return l(t,[{key:"ngOnInit",value:function(){this.sendMarkerControl=this.fb.control(this.order.sended),this.trackControl=this.fb.control(this.order.trackNumber),this.trackControlChangesHandler().subscribe(),this.sendMarkerControlChangesHandler().subscribe()}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"showOrderStructureDialog",value:function(){this.dialog.open(me,{data:{orderStructure:this.order.orderStructure}})}},{key:"showEditor",value:function(){var t=this;this.dialog.open(je,{data:this.order}).afterClosed().subscribe(function(e){e&&t.ordersStore.patchOrder(e)})}},{key:"trackControlChangesHandler",value:function(){var t=this;return this.trackControl.valueChanges.pipe(Object(b.a)(this.destroyer$$),Object(A.a)(function(){t.trackControlState=t.controlStates.loading}),Object(f.a)(500),Object(D.a)(function(e){return t.ordersService.patchOrder(Object.assign(Object.assign({},t.order),{trackNumber:e})).pipe(Object(A.a)(function(e){t.ordersStore.patchOrder(e),t.trackControlState=null}),Object(E.a)(function(e){return t.trackControlState=t.controlStates.err,e}))}))}},{key:"sendMarkerControlChangesHandler",value:function(){var t=this;return this.sendMarkerControlValueChanger.pipe(Object(b.a)(this.destroyer$$),Object(A.a)(function(){t.sendMarkerControlState=t.controlStates.loading}),Object(f.a)(500),Object(D.a)(function(e){return t.ordersService.patchOrder(Object.assign(Object.assign({},t.order),{sended:e})).pipe(Object(A.a)(function(e){t.ordersStore.patchOrder(e),t.sendMarkerControl.setValue(e.sended),t.sendMarkerControlState=null}),Object(E.a)(function(e){return t.sendMarkerControlState=t.controlStates.err,e}))}))}},{key:"changeSended",value:function(t){this.sendMarkerControlValueChanger.next(t)}},{key:"moreThanOneKit",get:function(){var t=this.order.orderStructure.kits.length,e=this.order.orderStructure.theatres.length;return t>1||e>1||t>0&&e>0}}]),t}()).\u0275fac=function(t){return new(t||De)(B.Mb(W.b),B.Mb(U.e),B.Mb(ce),B.Mb(ae),B.Mb(ie))},De.\u0275cmp=B.Gb({type:De,selectors:[["ntv-person-order"]],inputs:{order:"order"},decls:24,vars:18,consts:[[1,"order"],[1,"order__data"],[3,"overline","value"],["class","order__kits",3,"overline","value","click",4,"ngIf","ngIfElse"],["oneKit",""],["color","accent",3,"formControl","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["appearance","standard",1,"order__track"],["matInput","",3,"formControl"],["matSuffix","","class","order__track-copy-icon",3,"click",4,"ngIf"],["matSuffix","","class","order__track-control-spinner",3,"diameter",4,"ngIf"],["title","\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437","matSuffix","",4,"ngIf"],[1,"order__comment",3,"overline","value"],["mat-icon-button","",1,"order__edit",3,"click"],[1,"order__kits",3,"overline","value","click"],[4,"ngIf"],["overline","\u0447\u0442\u043e \u043f\u0440\u0438\u0432\u0435\u0437\u0442\u0438","value","\u043d\u0430\u0431\u043e\u0440"],[3,"kit"],["overline","\u0447\u0442\u043e \u043f\u0440\u0438\u0432\u0435\u0437\u0442\u0438","value","\u0442\u0435\u0430\u0442\u0440"],["matSuffix","",1,"order__track-copy-icon",3,"click"],["matSuffix","",1,"order__track-control-spinner",3,"diameter"],["title","\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437","matSuffix",""]],template:function(t,e){if(1&t&&(B.Sb(0,"mat-card",0),B.Sb(1,"div",1),B.Nb(2,"ntv-overlined",2),B.Nb(3,"ntv-overlined",2),B.Nb(4,"ntv-overlined",2),B.xc(5,Fe,1,2,"ntv-overlined",3),B.xc(6,Be,2,2,"ng-template",null,4,B.yc),B.Sb(8,"mat-checkbox",5),B.Zb("click",function(t){return t.preventDefault(),e.changeSended(!e.sendMarkerControl.value)}),B.Qb(9,6),B.xc(10,ze,2,0,"span",7),B.xc(11,Ne,2,0,"span",7),B.xc(12,Pe,2,0,"span",8),B.Pb(),B.Rb(),B.Sb(13,"mat-form-field",9),B.Sb(14,"mat-label"),B.zc(15,"\u0442\u0440\u0435\u043a"),B.Rb(),B.Nb(16,"input",10),B.xc(17,$e,2,0,"mat-icon",11),B.xc(18,Ie,1,1,"ntv-spinner",12),B.xc(19,Te,2,0,"mat-icon",13),B.Rb(),B.Rb(),B.Nb(20,"ntv-overlined",14),B.Sb(21,"button",15),B.Zb("click",function(){return e.showEditor()}),B.Sb(22,"mat-icon"),B.zc(23,"edit"),B.Rb(),B.Rb(),B.Rb()),2&t){var r=B.nc(7);B.Bb(2),B.ic("overline","\u0442\u0438\u043f \u0437\u0430\u043a\u0430\u0437\u0430")("value",e.order.type),B.Bb(1),B.ic("overline","\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")("value",e.order.shipmentDate),B.Bb(1),B.ic("overline","\u043f\u043e\u0432\u0435\u0437\u0435\u0442")("value",e.order.shipmentType||"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"),B.Bb(1),B.ic("ngIf",e.moreThanOneKit)("ngIfElse",r),B.Bb(3),B.ic("formControl",e.sendMarkerControl),B.Bb(1),B.ic("ngSwitch",e.sendMarkerControlState),B.Bb(1),B.ic("ngSwitchCase","loading"),B.Bb(1),B.ic("ngSwitchCase","err"),B.Bb(5),B.ic("formControl",e.trackControl),B.Bb(1),B.ic("ngIf","loading"!==e.trackControlState&&"err"!==e.trackControlState),B.Bb(1),B.ic("ngIf","loading"===e.trackControlState),B.Bb(1),B.ic("ngIf","err"===e.trackControlState),B.Bb(1),B.ic("overline","\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")("value",e.order.comment||"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d")}},directives:[lt.a,yt.a,et.k,pe.a,U.o,U.f,et.m,et.n,et.o,L.c,L.f,Y.b,U.c,rt.b,nt.a,be,L.g,Zt.a],styles:['[_nghost-%COMP%]{display:block}.order[_ngcontent-%COMP%]{display:grid;grid-template-areas:"data edit" "comment comment";grid-template-columns:1fr 40px;grid-template-rows:auto auto;grid-gap:8px}.order__data[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;grid-area:data}.order__comment[_ngcontent-%COMP%]{grid-area:comment}.order__edit[_ngcontent-%COMP%]{grid-area:edit}.order__kits[_ngcontent-%COMP%]{cursor:pointer}.order__track-control-spinner[_ngcontent-%COMP%]{margin-top:16px}.order__track-copy-icon[_ngcontent-%COMP%]{cursor:pointer}']}),De);function Ee(t,e){1&t&&B.Nb(0,"ntv-person-order",4),2&t&&B.ic("order",e.$implicit)}function Ge(t,e){1&t&&(B.Sb(0,"p"),B.zc(1,"\u0423 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435\u0442 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),B.Rb())}function Ke(t,e){if(1&t){var r=B.Tb();B.Sb(0,"p"),B.zc(1,"\u041e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 "),B.Sb(2,"span",5),B.Zb("click",function(){return B.pc(r),B.dc(2).getOrders()}),B.zc(3,"\u0435\u0449\u0435 \u0440\u0430\u0437"),B.Rb(),B.Rb()}}function Ze(t,e){1&t&&B.Nb(0,"ntv-spinner",6),2&t&&B.ic("diameter",24)}function Ve(t,e){if(1&t&&(B.Qb(0),B.Sb(1,"mat-accordion"),B.xc(2,Ee,1,1,"ntv-person-order",1),B.xc(3,Ge,2,0,"p",0),B.Rb(),B.xc(4,Ke,4,0,"p",0),B.Nb(5,"div",2),B.xc(6,Ze,1,1,"ntv-spinner",3),B.Pb()),2&t){var r=e.ngIf;B.Bb(2),B.ic("ngForOf",r.orders),B.Bb(1),B.ic("ngIf",!r.orders.length&&!r.err&&!r.loading),B.Bb(1),B.ic("ngIf",r.err),B.Bb(2),B.ic("ngIf",r.loading)}}var qe,He=((qe=function(){function t(e){u(this,t),this.ordersStore=e}return l(t,[{key:"ngOnInit",value:function(){this.state$=this.ordersStore.select(function(t){return t}),this.getOrders()}},{key:"getOrders",value:function(){this.ordersStore.getOrders(this.personId)}}]),t}()).\u0275fac=function(t){return new(t||qe)(B.Mb(ce))},qe.\u0275cmp=B.Gb({type:qe,selectors:[["ntv-person-orders"]],inputs:{personId:"personId"},features:[B.Ab([ce])],decls:2,vars:3,consts:[[4,"ngIf"],["class","order",3,"order",4,"ngFor","ngForOf"],["if",""],[3,"diameter",4,"ngIf"],[1,"order",3,"order"],[1,"text-button",3,"click"],[3,"diameter"]],template:function(t,e){1&t&&(B.xc(0,Ve,7,4,"ng-container",0),B.ec(1,"async")),2&t&&B.ic("ngIf",B.fc(1,1,e.state$))},directives:[et.k,X.a,et.j,Ae,Zt.a],pipes:[et.b],styles:[".text-button[_ngcontent-%COMP%]{color:red;cursor:pointer}.order[_ngcontent-%COMP%]{margin-bottom:8px}"]}),qe);function We(t,e){if(1&t){var r=B.Tb();B.Sb(0,"div",6),B.Zb("click",function(){B.pc(r);var t=e.$implicit;return B.dc().clipService.clip(t.value)}),B.Sb(1,"div",7),B.zc(2),B.Rb(),B.Sb(3,"div",8),B.zc(4),B.Rb(),B.Rb()}if(2&t){var n=e.$implicit;B.Bb(2),B.Bc(" ",n.name," "),B.Bb(2),B.Bc(" ",n.value," ")}}function Qe(t,e){if(1&t){var r=B.Tb();B.Sb(0,"div",9),B.Sb(1,"h6",10),B.zc(2,"\u0410\u0434\u0440\u0435\u0441"),B.Rb(),B.Sb(3,"ntv-overlined",11),B.Zb("click",function(){B.pc(r);var t=B.dc();return t.clipService.clip(t.person.address.city)}),B.Rb(),B.Sb(4,"ntv-overlined",12),B.Zb("click",function(){B.pc(r);var t=B.dc();return t.clipService.clip(t.person.address.address)}),B.Rb(),B.Rb(),B.Sb(5,"h6"),B.zc(6,"\u0417\u0430\u043a\u0430\u0437\u044b"),B.Rb(),B.Nb(7,"ntv-person-orders",13)}if(2&t){var n=B.dc();B.Bb(3),B.ic("value",n.person.address.city||"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"),B.Bb(1),B.ic("value",n.person.address.address||"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"),B.Bb(3),B.ic("personId",n.person.id)}}var Je,Xe=((Je=function(){function t(e,r){u(this,t),this.clipService=e,this.dialog=r}return l(t,[{key:"ngOnInit",value:function(){this.contactItems=[{name:"\u041f\u043e\u0447\u0442\u0430",value:this.person.contacts.email||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"},{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:this.person.contacts.phone||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"},{name:"\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c",value:this.person.contacts.inst||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"}]}},{key:"showEditor",value:function(){this.dialog.open(ne,{data:{person:this.person}})}}]),t}()).\u0275fac=function(t){return new(t||Je)(B.Mb(ie),B.Mb(W.b))},Je.\u0275cmp=B.Gb({type:Je,selectors:[["ntv-person"]],inputs:{person:"person"},decls:10,vars:2,consts:[[1,"person"],[1,"person__title",3,"click"],[1,"person__description",3,"click"],["class","person__contact",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],["matExpansionPanelContent",""],[1,"person__contact",3,"click"],[1,"overline"],[1,"person__contact-value"],[1,"person__address"],[1,"person__address-title"],["overline","\u0433\u043e\u0440\u043e\u0434",1,"person__address-item",3,"value","click"],["overline","\u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435",1,"person__address-item",3,"value","click"],[3,"personId"]],template:function(t,e){1&t&&(B.Sb(0,"mat-expansion-panel",0),B.Sb(1,"mat-expansion-panel-header"),B.Sb(2,"mat-panel-title",1),B.Zb("click",function(t){return t.stopPropagation(),e.clipService.clip(e.person.name)}),B.zc(3),B.Rb(),B.Sb(4,"mat-panel-description",2),B.Zb("click",function(t){return t.stopPropagation()}),B.xc(5,We,5,2,"div",3),B.Sb(6,"button",4),B.Zb("click",function(){return e.showEditor()}),B.Sb(7,"mat-icon"),B.zc(8,"edit"),B.Rb(),B.Rb(),B.Rb(),B.Rb(),B.xc(9,Qe,8,3,"ng-template",5),B.Rb()),2&t&&(B.Bb(3),B.Bc(" ",e.person.name," "),B.Bb(2),B.ic("ngForOf",e.contactItems))},directives:[X.c,X.f,X.g,X.e,et.j,rt.b,nt.a,X.d,yt.a,He],styles:['[_nghost-%COMP%]{display:block;overflow:hidden}.person__title[_ngcontent-%COMP%]{min-width:200px;max-width:200px}.person__description[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr) auto;grid-gap:16px}.person__address[_ngcontent-%COMP%]{display:grid;grid-template-areas:"title title" "item item";grid-template-columns:auto auto;grid-template-rows:auto auto}.person__address-title[_ngcontent-%COMP%]{grid-area:title}.person__address-item[_ngcontent-%COMP%]{cursor:pointer}.person.mat-expansion-panel[_ngcontent-%COMP%]{border-radius:0!important}']}),Je);function Ue(t,e){1&t&&B.Nb(0,"ntv-person",8),2&t&&B.ic("person",e.$implicit)}function Le(t,e){if(1&t&&(B.Sb(0,"mat-accordion",6),B.xc(1,Ue,1,1,"ntv-person",7),B.Rb()),2&t){var r=B.dc().ngIf;B.Bb(1),B.ic("ngForOf",r.customers)}}function Ye(t,e){1&t&&(B.Sb(0,"p",6),B.zc(1,"\u041e\u0448\u0438\u0431\u043a\u0430"),B.Rb())}function tr(t,e){1&t&&B.Nb(0,"ntv-spinner")}function er(t,e){if(1&t){var r=B.Tb();B.Sb(0,"ng-scrollbar",2),B.Sb(1,"div",3),B.Zb("scrolled",function(){return B.pc(r),B.dc().getMoreCustomers()}),B.xc(2,Le,2,1,"mat-accordion",4),B.xc(3,Ye,2,0,"p",4),B.xc(4,tr,1,0,"ntv-spinner",5),B.Rb(),B.Rb()}if(2&t){var n=e.ngIf;B.Bb(1),B.ic("scrollWindow",!1),B.Bb(1),B.ic("ngIf",n.customers.length),B.Bb(1),B.ic("ngIf",n.err),B.Bb(1),B.ic("ngIf",n.loading)}}var rr,nr,or,ir=[{path:"",component:(rr=function(){function t(e,r){u(this,t),this.store=e,this.dialog=r,this.destroyer$$=new s.a}return l(t,[{key:"ngOnInit",value:function(){var t=this;this.state=this.store.select("customers"),this.state.pipe(Object(b.a)(this.destroyer$$)).subscribe(function(e){t.length=e.customers.length}),this.store.dispatch(d.a.setPending({start:0,end:50}))}},{key:"ngOnDestroy",value:function(){this.destroyer$$.next(),this.destroyer$$.complete()}},{key:"getMoreCustomers",value:function(){this.store.dispatch(d.a.setPending({start:this.length,end:this.length+10}))}},{key:"showAddOrderDialog",value:function(){this.dialog.open(te)}}]),t}(),rr.\u0275fac=function(t){return new(t||rr)(B.Mb(ee.h),B.Mb(W.b))},rr.\u0275cmp=B.Gb({type:rr,selectors:[["ntv-people"]],decls:5,vars:3,consts:[["class","scrollbar",4,"ngIf"],["mat-fab","",1,"add-order",3,"click"],[1,"scrollbar"],["infiniteScroll","","scrollViewport","",3,"scrollWindow","scrolled"],["class","scrollbar__content",4,"ngIf"],[4,"ngIf"],[1,"scrollbar__content"],[3,"person",4,"ngFor","ngForOf"],[3,"person"]],template:function(t,e){1&t&&(B.xc(0,er,5,4,"ng-scrollbar",0),B.ec(1,"async"),B.Sb(2,"button",1),B.Zb("click",function(){return e.showAddOrderDialog()}),B.Sb(3,"mat-icon"),B.zc(4,"add"),B.Rb(),B.Rb()),2&t&&B.ic("ngIf",B.fc(1,1,e.state))},directives:[et.k,rt.b,nt.a,ut.a,re.a,ut.c,X.a,et.j,Xe,Zt.a],pipes:[et.b],styles:["[_nghost-%COMP%]{display:block}.scrollbar[_ngcontent-%COMP%]{max-height:calc(100vh - 64px);min-height:calc(100vh - 64px)}.scrollbar__content[_ngcontent-%COMP%]{padding:16px}.sc[_ngcontent-%COMP%]{height:2rem}.add-order[_ngcontent-%COMP%]{position:fixed;right:24px;bottom:24px;z-index:2}"]}),rr)}],ar=((nr=function t(){u(this,t)}).\u0275mod=B.Kb({type:nr}),nr.\u0275inj=B.Jb({factory:function(t){return new(t||nr)},imports:[[c.i.forChild(ir)],c.i]}),nr),cr=o("PCNd"),sr=((or=function t(){u(this,t)}).\u0275mod=B.Kb({type:or}),or.\u0275inj=B.Jb({factory:function(t){return new(t||or)},imports:[[ar,cr.a]]}),or)}}])}();